exports.id=524,exports.ids=[524],exports.modules={9872:function(h){(function(){var c,g,f,d;"undefined"!=typeof performance&&null!==performance&&performance.now?h.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(h.exports=function(){return(c()-d)/1e6},g=process.hrtime,d=(c=function(){var h;return 1e9*(h=g())[0]+h[1]})()-1e9*process.uptime()):Date.now?(h.exports=function(){return Date.now()-f},f=Date.now()):(h.exports=function(){return new Date().getTime()-f},f=new Date().getTime())}).call(this)},2783:(h,c,g)=>{for(var f=g(9872),d="undefined"==typeof window?global:window,x=["moz","webkit"],b="AnimationFrame",E=d["request"+b],S=d["cancel"+b]||d["cancelRequest"+b],P=0;!E&&P<x.length;P++)E=d[x[P]+"Request"+b],S=d[x[P]+"Cancel"+b]||d[x[P]+"CancelRequest"+b];if(!E||!S){var w=0,T=0,C=[],A=1e3/60;E=function(h){if(0===C.length){var c=f(),g=Math.max(0,A-(c-w));w=g+c,setTimeout(function(){var h=C.slice(0);C.length=0;for(var c=0;c<h.length;c++)if(!h[c].cancelled)try{h[c].callback(w)}catch(h){setTimeout(function(){throw h},0)}},Math.round(g))}return C.push({handle:++T,callback:h,cancelled:!1}),T},S=function(h){for(var c=0;c<C.length;c++)C[c].handle===h&&(C[c].cancelled=!0)}}h.exports=function(h){return E.call(d,h)},h.exports.cancel=function(){S.apply(d,arguments)},h.exports.polyfill=function(h){h||(h=d),h.requestAnimationFrame=E,h.cancelAnimationFrame=S}},6049:h=>{h.exports=function(h){this.ok=!1,this.alpha=1,"#"==h.charAt(0)&&(h=h.substr(1,6));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};h=c[h=(h=h.replace(/ /g,"")).toLowerCase()]||h;for(var g=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),parseFloat(h[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],f=0;f<g.length;f++){var d=g[f].re,x=g[f].process,b=d.exec(h);if(b){var E=x(b);this.r=E[0],this.g=E[1],this.b=E[2],E.length>3&&(this.alpha=E[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var h=this.r.toString(16),c=this.g.toString(16),g=this.b.toString(16);return 1==h.length&&(h="0"+h),1==c.length&&(c="0"+c),1==g.length&&(g="0"+g),"#"+h+c+g},this.getHelpXML=function(){for(var h=[],f=0;f<g.length;f++)for(var d=g[f].example,x=0;x<d.length;x++)h[h.length]=d[x];for(var b in c)h[h.length]=b;var E=document.createElement("ul");E.setAttribute("id","rgbcolor-examples");for(var f=0;f<h.length;f++)try{var S=document.createElement("li"),P=new RGBColor(h[f]),w=document.createElement("div");w.style.cssText="margin: 3px; border: 1px solid black; background:"+P.toHex()+"; color:"+P.toHex(),w.appendChild(document.createTextNode("test"));var T=document.createTextNode(" "+h[f]+" -> "+P.toRGB()+" -> "+P.toHex());S.appendChild(w),S.appendChild(T),E.appendChild(S)}catch(h){}return E}}},9338:function(h,c){(function(h){"use strict";function _typeof(h){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(h)}function _classCallCheck(h,c){if(!(h instanceof c))throw TypeError("Cannot call a class as a function")}/**
  * StackBlur - a fast almost Gaussian Blur For Canvas
  *
  * In case you find this class useful - especially in commercial projects -
  * I am not totally unhappy for a small donation to my PayPal account
  * mario@quasimondo.de
  *
  * Or support me on flattr:
  * {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
  *
  * @module StackBlur
  * @author Mario Klingemann
  * Contact: mario@quasimondo.com
  * Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
  * Twitter: @quasimondo
  *
  * @copyright (c) 2010 Mario Klingemann
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */var c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],g=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function processImage(h,c,g,f,d,x){if("string"==typeof h&&(h=document.getElementById(h)),h&&("HTMLImageElement"!==Object.prototype.toString.call(h).slice(8,-1)||"naturalWidth"in h)){var b=d?"offset":"natural",E=h[b+"Width"],S=h[b+"Height"];if("ImageBitmap"===Object.prototype.toString.call(h).slice(8,-1)&&(E=h.width,S=h.height),"string"==typeof c&&(c=document.getElementById(c)),c&&"getContext"in c){x||(c.style.width=E+"px",c.style.height=S+"px"),c.width=E,c.height=S;var P=c.getContext("2d");P.clearRect(0,0,E,S),P.drawImage(h,0,0,h.naturalWidth,h.naturalHeight,0,0,E,S),isNaN(g)||g<1||(f?processCanvasRGBA(c,0,0,E,S,g):processCanvasRGB(c,0,0,E,S,g))}}}function getImageDataFromCanvas(h,c,g,f,d){if("string"==typeof h&&(h=document.getElementById(h)),!h||"object"!==_typeof(h)||!("getContext"in h))throw TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var x=h.getContext("2d");try{return x.getImageData(c,g,f,d)}catch(h){throw Error("unable to access image data: "+h)}}function processCanvasRGBA(h,c,g,f,d,x){if(!isNaN(x)&&!(x<1)){x|=0;var b=getImageDataFromCanvas(h,c,g,f,d);b=processImageDataRGBA(b,c,g,f,d,x),h.getContext("2d").putImageData(b,c,g)}}function processImageDataRGBA(h,f,d,x,b,E){for(var S,P=h.data,w=2*E+1,T=x-1,C=b-1,A=E+1,M=A*(A+1)/2,N=new BlurStack,R=N,_=1;_<w;_++)R=R.next=new BlurStack,_===A&&(S=R);R.next=N;for(var V=null,k=null,L=0,D=0,B=c[E],j=g[E],U=0;U<b;U++){R=N;for(var z=P[D],G=P[D+1],X=P[D+2],Y=P[D+3],W=0;W<A;W++)R.r=z,R.g=G,R.b=X,R.a=Y,R=R.next;for(var Q=0,$=0,q=0,Z=0,K=A*z,J=A*G,tt=A*X,te=A*Y,tr=M*z,ti=M*G,tn=M*X,ta=M*Y,ts=1;ts<A;ts++){var to=D+((T<ts?T:ts)<<2),tu=P[to],tl=P[to+1],th=P[to+2],tc=P[to+3],tp=A-ts;tr+=(R.r=tu)*tp,ti+=(R.g=tl)*tp,tn+=(R.b=th)*tp,ta+=(R.a=tc)*tp,Q+=tu,$+=tl,q+=th,Z+=tc,R=R.next}V=N,k=S;for(var tg=0;tg<x;tg++){var tf=ta*B>>>j;if(P[D+3]=tf,0!==tf){var td=255/tf;P[D]=(tr*B>>>j)*td,P[D+1]=(ti*B>>>j)*td,P[D+2]=(tn*B>>>j)*td}else P[D]=P[D+1]=P[D+2]=0;tr-=K,ti-=J,tn-=tt,ta-=te,K-=V.r,J-=V.g,tt-=V.b,te-=V.a;var tm=tg+E+1;tm=L+(tm<T?tm:T)<<2,Q+=V.r=P[tm],$+=V.g=P[tm+1],q+=V.b=P[tm+2],Z+=V.a=P[tm+3],tr+=Q,ti+=$,tn+=q,ta+=Z,V=V.next;var tv=k,ty=tv.r,tx=tv.g,tb=tv.b,tE=tv.a;K+=ty,J+=tx,tt+=tb,te+=tE,Q-=ty,$-=tx,q-=tb,Z-=tE,k=k.next,D+=4}L+=x}for(var tS=0;tS<x;tS++){var tP=P[D=tS<<2],tw=P[D+1],tT=P[D+2],tO=P[D+3],tC=A*tP,tA=A*tw,tM=A*tT,tN=A*tO,tR=M*tP,t_=M*tw,tV=M*tT,tk=M*tO;R=N;for(var tI=0;tI<A;tI++)R.r=tP,R.g=tw,R.b=tT,R.a=tO,R=R.next;for(var tL=x,tD=0,tB=0,tF=0,tj=0,tU=1;tU<=E;tU++){D=tL+tS<<2;var tz=A-tU;tR+=(R.r=tP=P[D])*tz,t_+=(R.g=tw=P[D+1])*tz,tV+=(R.b=tT=P[D+2])*tz,tk+=(R.a=tO=P[D+3])*tz,tj+=tP,tD+=tw,tB+=tT,tF+=tO,R=R.next,tU<C&&(tL+=x)}D=tS,V=N,k=S;for(var tG=0;tG<b;tG++){var tH=D<<2;P[tH+3]=tO=tk*B>>>j,tO>0?(tO=255/tO,P[tH]=(tR*B>>>j)*tO,P[tH+1]=(t_*B>>>j)*tO,P[tH+2]=(tV*B>>>j)*tO):P[tH]=P[tH+1]=P[tH+2]=0,tR-=tC,t_-=tA,tV-=tM,tk-=tN,tC-=V.r,tA-=V.g,tM-=V.b,tN-=V.a,tH=tS+((tH=tG+A)<C?tH:C)*x<<2,tR+=tj+=V.r=P[tH],t_+=tD+=V.g=P[tH+1],tV+=tB+=V.b=P[tH+2],tk+=tF+=V.a=P[tH+3],V=V.next,tC+=tP=k.r,tA+=tw=k.g,tM+=tT=k.b,tN+=tO=k.a,tj-=tP,tD-=tw,tB-=tT,tF-=tO,k=k.next,D+=x}}return h}function processCanvasRGB(h,c,g,f,d,x){if(!isNaN(x)&&!(x<1)){x|=0;var b=getImageDataFromCanvas(h,c,g,f,d);b=processImageDataRGB(b,c,g,f,d,x),h.getContext("2d").putImageData(b,c,g)}}function processImageDataRGB(h,f,d,x,b,E){for(var S,P,w,T=h.data,C=2*E+1,A=x-1,M=b-1,N=E+1,R=N*(N+1)/2,_=new BlurStack,V=_,k=1;k<C;k++)V=V.next=new BlurStack,k===N&&(S=V);V.next=_;for(var L=null,D=null,B=c[E],j=g[E],U=0,z=0,G=0;G<b;G++){var X=T[z],Y=T[z+1],W=T[z+2],Q=N*X,$=N*Y,q=N*W,Z=R*X,K=R*Y,J=R*W;V=_;for(var tt=0;tt<N;tt++)V.r=X,V.g=Y,V.b=W,V=V.next;for(var te=0,tr=0,ti=0,tn=1;tn<N;tn++)P=z+((A<tn?A:tn)<<2),Z+=(V.r=X=T[P])*(w=N-tn),K+=(V.g=Y=T[P+1])*w,J+=(V.b=W=T[P+2])*w,te+=X,tr+=Y,ti+=W,V=V.next;L=_,D=S;for(var ta=0;ta<x;ta++)T[z]=Z*B>>>j,T[z+1]=K*B>>>j,T[z+2]=J*B>>>j,Z-=Q,K-=$,J-=q,Q-=L.r,$-=L.g,q-=L.b,P=U+((P=ta+E+1)<A?P:A)<<2,te+=L.r=T[P],tr+=L.g=T[P+1],ti+=L.b=T[P+2],Z+=te,K+=tr,J+=ti,L=L.next,Q+=X=D.r,$+=Y=D.g,q+=W=D.b,te-=X,tr-=Y,ti-=W,D=D.next,z+=4;U+=x}for(var ts=0;ts<x;ts++){var to=T[z=ts<<2],tu=T[z+1],tl=T[z+2],th=N*to,tc=N*tu,tp=N*tl,tg=R*to,tf=R*tu,td=R*tl;V=_;for(var tm=0;tm<N;tm++)V.r=to,V.g=tu,V.b=tl,V=V.next;for(var tv=0,ty=0,tx=0,tb=1,tE=x;tb<=E;tb++)z=tE+ts<<2,tg+=(V.r=to=T[z])*(w=N-tb),tf+=(V.g=tu=T[z+1])*w,td+=(V.b=tl=T[z+2])*w,tv+=to,ty+=tu,tx+=tl,V=V.next,tb<M&&(tE+=x);z=ts,L=_,D=S;for(var tS=0;tS<b;tS++)T[P=z<<2]=tg*B>>>j,T[P+1]=tf*B>>>j,T[P+2]=td*B>>>j,tg-=th,tf-=tc,td-=tp,th-=L.r,tc-=L.g,tp-=L.b,P=ts+((P=tS+N)<M?P:M)*x<<2,tg+=tv+=L.r=T[P],tf+=ty+=L.g=T[P+1],td+=tx+=L.b=T[P+2],L=L.next,th+=to=D.r,tc+=tu=D.g,tp+=tl=D.b,tv-=to,ty-=tu,tx-=tl,D=D.next,z+=x}return h}var BlurStack=function BlurStack(){_classCallCheck(this,BlurStack),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};h.BlurStack=BlurStack,h.canvasRGB=processCanvasRGB,h.canvasRGBA=processCanvasRGBA,h.image=processImage,h.imageDataRGB=processImageDataRGB,h.imageDataRGBA=processImageDataRGBA,Object.defineProperty(h,"__esModule",{value:!0})})(c)},2510:h=>{function asyncGeneratorStep(h,c,g,f,d,x,b){try{var E=h[x](b),S=E.value}catch(h){return void g(h)}E.done?c(S):Promise.resolve(S).then(f,d)}function _asyncToGenerator(h){return function(){var c=this,g=arguments;return new Promise(function(f,d){var x=h.apply(c,g);function _next(h){asyncGeneratorStep(x,f,d,_next,_throw,"next",h)}function _throw(h){asyncGeneratorStep(x,f,d,_next,_throw,"throw",h)}_next(void 0)})}}h.exports=_asyncToGenerator,h.exports.__esModule=!0,h.exports.default=h.exports},513:(h,c,g)=>{var f=g(6651);function _defineProperty(h,c,g){return(c=f(c))in h?Object.defineProperty(h,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[c]=g,h}h.exports=_defineProperty,h.exports.__esModule=!0,h.exports.default=h.exports},9312:(h,c,g)=>{var f=g(7236).default;function toPrimitive(h,c){if("object"!=f(h)||!h)return h;var g=h[Symbol.toPrimitive];if(void 0!==g){var d=g.call(h,c||"default");if("object"!=f(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(h)}h.exports=toPrimitive,h.exports.__esModule=!0,h.exports.default=h.exports},6651:(h,c,g)=>{var f=g(7236).default,d=g(9312);function toPropertyKey(h){var c=d(h,"string");return"symbol"==f(c)?c:c+""}h.exports=toPropertyKey,h.exports.__esModule=!0,h.exports.default=h.exports},1909:(h,c,g)=>{"use strict";var f=g(950),d=g(2581),x=TypeError;h.exports=function(h){if(f(h))return h;throw new x(d(h)+" is not a function")}},2435:(h,c,g)=>{"use strict";var f=g(6),d=g(2581),x=TypeError;h.exports=function(h){if(f(h))return h;throw new x(d(h)+" is not a constructor")}},4761:(h,c,g)=>{"use strict";var f=g(8074),d=String,x=TypeError;h.exports=function(h){if(f(h))return h;throw new x("Can't set "+d(h)+" as a prototype")}},4834:(h,c,g)=>{"use strict";var f=g(6161),d=g(2143),x=g(1600).f,b=f("unscopables"),E=Array.prototype;void 0===E[b]&&x(E,b,{configurable:!0,value:d(null)}),h.exports=function(h){E[b][h]=!0}},4690:(h,c,g)=>{"use strict";var f=g(3798).charAt;h.exports=function(h,c,g){return c+(g?f(h,c).length:1)}},7100:(h,c,g)=>{"use strict";var f=g(7324),d=TypeError;h.exports=function(h,c){if(f(c,h))return h;throw new d("Incorrect invocation")}},767:(h,c,g)=>{"use strict";var f=g(1702),d=String,x=TypeError;h.exports=function(h){if(f(h))return h;throw new x(d(h)+" is not an object")}},6998:(h,c,g)=>{"use strict";var f=g(7794),d=g(3027),x=g(1856),createMethod=function(h){return function(c,g,b){var E,S=f(c),P=x(S);if(0===P)return!h&&-1;var w=d(b,P);if(h&&g!=g){for(;P>w;)if((E=S[w++])!=E)return!0}else for(;P>w;w++)if((h||w in S)&&S[w]===g)return h||w||0;return!h&&-1}};h.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},8278:(h,c,g)=>{"use strict";var f=g(9722);h.exports=function(h,c){var g=[][h];return!!g&&f(function(){g.call(null,c||function(){return 1},1)})}},8694:(h,c,g)=>{"use strict";var f=g(1909),d=g(242),x=g(3955),b=g(1856),E=TypeError,S="Reduce of empty array with no initial value",createMethod=function(h){return function(c,g,P,w){var T=d(c),C=x(T),A=b(T);if(f(g),0===A&&P<2)throw new E(S);var M=h?A-1:0,N=h?-1:1;if(P<2)for(;;){if(M in C){w=C[M],M+=N;break}if(M+=N,h?M<0:A<=M)throw new E(S)}for(;h?M>=0:A>M;M+=N)M in C&&(w=g(w,C[M],M,T));return w}};h.exports={left:createMethod(!1),right:createMethod(!0)}},1277:(h,c,g)=>{"use strict";var f=g(8640);h.exports=f([].slice)},9465:(h,c,g)=>{"use strict";var f=g(6161)("iterator"),d=!1;try{var x=0,b={next:function(){return{done:!!x++}},return:function(){d=!0}};b[f]=function(){return this},Array.from(b,function(){throw 2})}catch(h){}h.exports=function(h,c){try{if(!c&&!d)return!1}catch(h){return!1}var g=!1;try{var x={};x[f]=function(){return{next:function(){return{done:g=!0}}}},h(x)}catch(h){}return g}},2820:(h,c,g)=>{"use strict";var f=g(8640),d=f({}.toString),x=f("".slice);h.exports=function(h){return x(d(h),8,-1)}},3755:(h,c,g)=>{"use strict";var f=g(8784),d=g(950),x=g(2820),b=g(6161)("toStringTag"),E=Object,S="Arguments"===x(function(){return arguments}()),tryGet=function(h,c){try{return h[c]}catch(h){}};h.exports=f?x:function(h){var c,g,f;return void 0===h?"Undefined":null===h?"Null":"string"==typeof(g=tryGet(c=E(h),b))?g:S?x(c):"Object"===(f=x(c))&&d(c.callee)?"Arguments":f}},3666:(h,c,g)=>{"use strict";var f=g(4250),d=g(1987),x=g(8029),b=g(1600);h.exports=function(h,c,g){for(var E=d(c),S=b.f,P=x.f,w=0;w<E.length;w++){var T=E[w];f(h,T)||g&&f(g,T)||S(h,T,P(c,T))}}},9108:(h,c,g)=>{"use strict";var f=g(6161)("match");h.exports=function(h){var c=/./;try{"/./"[h](c)}catch(g){try{return c[f]=!1,"/./"[h](c)}catch(h){}}return!1}},6425:(h,c,g)=>{"use strict";var f=g(9722);h.exports=!f(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},6810:h=>{"use strict";h.exports=function(h,c){return{value:h,done:c}}},6135:(h,c,g)=>{"use strict";var f=g(2884),d=g(1600),x=g(8348);h.exports=f?function(h,c,g){return d.f(h,c,x(1,g))}:function(h,c,g){return h[c]=g,h}},8348:h=>{"use strict";h.exports=function(h,c){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:c}}},2482:(h,c,g)=>{"use strict";var f=g(9040),d=g(1600);h.exports=function(h,c,g){return g.get&&f(g.get,c,{getter:!0}),g.set&&f(g.set,c,{setter:!0}),d.f(h,c,g)}},2822:(h,c,g)=>{"use strict";var f=g(950),d=g(1600),x=g(9040),b=g(379);h.exports=function(h,c,g,E){E||(E={});var S=E.enumerable,P=void 0!==E.name?E.name:c;if(f(g)&&x(g,P,E),E.global)S?h[c]=g:b(c,g);else{try{E.unsafe?h[c]&&(S=!0):delete h[c]}catch(h){}S?h[c]=g:d.f(h,c,{value:g,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return h}},379:(h,c,g)=>{"use strict";var f=g(3697),d=Object.defineProperty;h.exports=function(h,c){try{d(f,h,{value:c,configurable:!0,writable:!0})}catch(g){f[h]=c}return c}},2884:(h,c,g)=>{"use strict";var f=g(9722);h.exports=!f(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},9140:(h,c,g)=>{"use strict";var f=g(3697),d=g(1702),x=f.document,b=d(x)&&d(x.createElement);h.exports=function(h){return b?x.createElement(h):{}}},7566:h=>{"use strict";h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7790:(h,c,g)=>{"use strict";var f=g(9140)("span").classList,d=f&&f.constructor&&f.constructor.prototype;h.exports=d===Object.prototype?void 0:d},2010:h=>{"use strict";h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8520:(h,c,g)=>{"use strict";var f=g(6181);h.exports=/ipad|iphone|ipod/i.test(f)&&"undefined"!=typeof Pebble},6537:(h,c,g)=>{"use strict";var f=g(6181);h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)},6515:(h,c,g)=>{"use strict";var f=g(2191);h.exports="NODE"===f},6378:(h,c,g)=>{"use strict";var f=g(6181);h.exports=/web0s(?!.*chrome)/i.test(f)},6181:(h,c,g)=>{"use strict";var f=g(3697).navigator,d=f&&f.userAgent;h.exports=d?String(d):""},4101:(h,c,g)=>{"use strict";var f,d,x=g(3697),b=g(6181),E=x.process,S=x.Deno,P=E&&E.versions||S&&S.version,w=P&&P.v8;w&&(d=(f=w.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!d&&b&&(!(f=b.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=b.match(/Chrome\/(\d+)/))&&(d=+f[1]),h.exports=d},2191:(h,c,g)=>{"use strict";var f=g(3697),d=g(6181),x=g(2820),userAgentStartsWith=function(h){return d.slice(0,h.length)===h};h.exports=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":f.Bun&&"string"==typeof Bun.version?"BUN":f.Deno&&"object"==typeof Deno.version?"DENO":"process"===x(f.process)?"NODE":f.window&&f.document?"BROWSER":"REST"},5187:(h,c,g)=>{"use strict";var f=g(3697),d=g(8029).f,x=g(6135),b=g(2822),E=g(379),S=g(3666),P=g(9986);h.exports=function(h,c){var g,w,T,C,A,M=h.target,N=h.global,R=h.stat;if(g=N?f:R?f[M]||E(M,{}):f[M]&&f[M].prototype)for(w in c){if(C=c[w],T=h.dontCallGetSet?(A=d(g,w))&&A.value:g[w],!P(N?w:M+(R?".":"#")+w,h.forced)&&void 0!==T){if(typeof C==typeof T)continue;S(C,T)}(h.sham||T&&T.sham)&&x(C,"sham",!0),b(g,w,C,h)}}},9722:h=>{"use strict";h.exports=function(h){try{return!!h()}catch(h){return!0}}},491:(h,c,g)=>{"use strict";g(9506);var f=g(9067),d=g(2822),x=g(5611),b=g(9722),E=g(6161),S=g(6135),P=E("species"),w=RegExp.prototype;h.exports=function(h,c,g,T){var C=E(h),A=!b(function(){var c={};return c[C]=function(){return 7},7!==""[h](c)}),M=A&&!b(function(){var c=!1,g=/a/;return"split"===h&&((g={}).constructor={},g.constructor[P]=function(){return g},g.flags="",g[C]=/./[C]),g.exec=function(){return c=!0,null},g[C](""),!c});if(!A||!M||g){var N=/./[C],R=c(C,""[h],function(h,c,g,d,b){var E=c.exec;return E===x||E===w.exec?A&&!b?{done:!0,value:f(N,c,g,d)}:{done:!0,value:f(h,g,c,d)}:{done:!1}});d(String.prototype,h,R[0]),d(w,C,R[1])}T&&S(w[C],"sham",!0)}},329:(h,c,g)=>{"use strict";var f=g(2969),d=Function.prototype,x=d.apply,b=d.call;h.exports="object"==typeof Reflect&&Reflect.apply||(f?b.bind(x):function(){return b.apply(x,arguments)})},7632:(h,c,g)=>{"use strict";var f=g(2835),d=g(1909),x=g(2969),b=f(f.bind);h.exports=function(h,c){return d(h),void 0===c?h:x?b(h,c):function(){return h.apply(c,arguments)}}},2969:(h,c,g)=>{"use strict";var f=g(9722);h.exports=!f(function(){var h=(function(){}).bind();return"function"!=typeof h||h.hasOwnProperty("prototype")})},9067:(h,c,g)=>{"use strict";var f=g(2969),d=Function.prototype.call;h.exports=f?d.bind(d):function(){return d.apply(d,arguments)}},9715:(h,c,g)=>{"use strict";var f=g(2884),d=g(4250),x=Function.prototype,b=f&&Object.getOwnPropertyDescriptor,E=d(x,"name"),S=E&&(!f||f&&b(x,"name").configurable);h.exports={EXISTS:E,PROPER:E&&"something"===(function(){}).name,CONFIGURABLE:S}},1621:(h,c,g)=>{"use strict";var f=g(8640),d=g(1909);h.exports=function(h,c,g){try{return f(d(Object.getOwnPropertyDescriptor(h,c)[g]))}catch(h){}}},2835:(h,c,g)=>{"use strict";var f=g(2820),d=g(8640);h.exports=function(h){if("Function"===f(h))return d(h)}},8640:(h,c,g)=>{"use strict";var f=g(2969),d=Function.prototype,x=d.call,b=f&&d.bind.bind(x,x);h.exports=f?b:function(h){return function(){return x.apply(h,arguments)}}},3210:(h,c,g)=>{"use strict";var f=g(3697),d=g(950);h.exports=function(h,c){var g;return arguments.length<2?d(g=f[h])?g:void 0:f[h]&&f[h][c]}},2734:(h,c,g)=>{"use strict";var f=g(3755),d=g(1721),x=g(7297),b=g(9332),E=g(6161)("iterator");h.exports=function(h){if(!x(h))return d(h,E)||d(h,"@@iterator")||b[f(h)]}},8317:(h,c,g)=>{"use strict";var f=g(9067),d=g(1909),x=g(767),b=g(2581),E=g(2734),S=TypeError;h.exports=function(h,c){var g=arguments.length<2?E(h):c;if(d(g))return x(f(g,h));throw new S(b(h)+" is not iterable")}},1721:(h,c,g)=>{"use strict";var f=g(1909),d=g(7297);h.exports=function(h,c){var g=h[c];return d(g)?void 0:f(g)}},5482:(h,c,g)=>{"use strict";var f=g(8640),d=g(242),x=Math.floor,b=f("".charAt),E=f("".replace),S=f("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;h.exports=function(h,c,g,f,T,C){var A=g+h.length,M=f.length,N=w;return void 0!==T&&(T=d(T),N=P),E(C,N,function(d,E){var P;switch(b(E,0)){case"$":return"$";case"&":return h;case"`":return S(c,0,g);case"'":return S(c,A);case"<":P=T[S(E,1,-1)];break;default:var w=+E;if(0===w)return d;if(w>M){var C=x(w/10);if(0===C)return d;if(C<=M)return void 0===f[C-1]?b(E,1):f[C-1]+b(E,1);return d}P=f[w-1]}return void 0===P?"":P})}},3697:function(h){"use strict";var check=function(h){return h&&h.Math===Math&&h};h.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4250:(h,c,g)=>{"use strict";var f=g(8640),d=g(242),x=f({}.hasOwnProperty);h.exports=Object.hasOwn||function(h,c){return x(d(h),c)}},6800:h=>{"use strict";h.exports={}},879:h=>{"use strict";h.exports=function(h,c){try{1==arguments.length?console.error(h):console.error(h,c)}catch(h){}}},6118:(h,c,g)=>{"use strict";var f=g(3210);h.exports=f("document","documentElement")},4036:(h,c,g)=>{"use strict";var f=g(2884),d=g(9722),x=g(9140);h.exports=!f&&!d(function(){return 7!==Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})},3955:(h,c,g)=>{"use strict";var f=g(8640),d=g(9722),x=g(2820),b=Object,E=f("".split);h.exports=d(function(){return!b("z").propertyIsEnumerable(0)})?function(h){return"String"===x(h)?E(h,""):b(h)}:b},1586:(h,c,g)=>{"use strict";var f=g(8640),d=g(950),x=g(5103),b=f(Function.toString);d(x.inspectSource)||(x.inspectSource=function(h){return b(h)}),h.exports=x.inspectSource},7957:(h,c,g)=>{"use strict";var f,d,x,b=g(7060),E=g(3697),S=g(1702),P=g(6135),w=g(4250),T=g(5103),C=g(3198),A=g(6800),M="Object already initialized",N=E.TypeError,R=E.WeakMap;if(b||T.state){var _=T.state||(T.state=new R);_.get=_.get,_.has=_.has,_.set=_.set,f=function(h,c){if(_.has(h))throw new N(M);return c.facade=h,_.set(h,c),c},d=function(h){return _.get(h)||{}},x=function(h){return _.has(h)}}else{var V=C("state");A[V]=!0,f=function(h,c){if(w(h,V))throw new N(M);return c.facade=h,P(h,V,c),c},d=function(h){return w(h,V)?h[V]:{}},x=function(h){return w(h,V)}}h.exports={set:f,get:d,has:x,enforce:function(h){return x(h)?d(h):f(h,{})},getterFor:function(h){return function(c){var g;if(!S(c)||(g=d(c)).type!==h)throw new N("Incompatible receiver, "+h+" required");return g}}}},6376:(h,c,g)=>{"use strict";var f=g(6161),d=g(9332),x=f("iterator"),b=Array.prototype;h.exports=function(h){return void 0!==h&&(d.Array===h||b[x]===h)}},1178:(h,c,g)=>{"use strict";var f=g(2820);h.exports=Array.isArray||function(h){return"Array"===f(h)}},950:h=>{"use strict";var c="object"==typeof document&&document.all;h.exports=void 0===c&&void 0!==c?function(h){return"function"==typeof h||h===c}:function(h){return"function"==typeof h}},6:(h,c,g)=>{"use strict";var f=g(8640),d=g(9722),x=g(950),b=g(3755),E=g(3210),S=g(1586),noop=function(){},P=E("Reflect","construct"),w=/^\s*(?:class|function)\b/,T=f(w.exec),C=!w.test(noop),isConstructorModern=function(h){if(!x(h))return!1;try{return P(noop,[],h),!0}catch(h){return!1}},isConstructorLegacy=function(h){if(!x(h))return!1;switch(b(h)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!T(w,S(h))}catch(h){return!0}};isConstructorLegacy.sham=!0,h.exports=!P||d(function(){var h;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){h=!0})||h})?isConstructorLegacy:isConstructorModern},9986:(h,c,g)=>{"use strict";var f=g(9722),d=g(950),x=/#|\.prototype\./,isForced=function(h,c){var g=E[b(h)];return g===P||g!==S&&(d(c)?f(c):!!c)},b=isForced.normalize=function(h){return String(h).replace(x,".").toLowerCase()},E=isForced.data={},S=isForced.NATIVE="N",P=isForced.POLYFILL="P";h.exports=isForced},7297:h=>{"use strict";h.exports=function(h){return null==h}},1702:(h,c,g)=>{"use strict";var f=g(950);h.exports=function(h){return"object"==typeof h?null!==h:f(h)}},8074:(h,c,g)=>{"use strict";var f=g(1702);h.exports=function(h){return f(h)||null===h}},9980:h=>{"use strict";h.exports=!1},8924:(h,c,g)=>{"use strict";var f=g(1702),d=g(2820),x=g(6161)("match");h.exports=function(h){var c;return f(h)&&(void 0!==(c=h[x])?!!c:"RegExp"===d(h))}},5414:(h,c,g)=>{"use strict";var f=g(3210),d=g(950),x=g(7324),b=g(4872),E=Object;h.exports=b?function(h){return"symbol"==typeof h}:function(h){var c=f("Symbol");return d(c)&&x(c.prototype,E(h))}},6333:(h,c,g)=>{"use strict";var f=g(7632),d=g(9067),x=g(767),b=g(2581),E=g(6376),S=g(1856),P=g(7324),w=g(8317),T=g(2734),C=g(9263),A=TypeError,Result=function(h,c){this.stopped=h,this.result=c},M=Result.prototype;h.exports=function(h,c,g){var N,R,_,V,k,L,D,B=g&&g.that,j=!!(g&&g.AS_ENTRIES),U=!!(g&&g.IS_RECORD),z=!!(g&&g.IS_ITERATOR),G=!!(g&&g.INTERRUPTED),X=f(c,B),stop=function(h){return N&&C(N,"normal"),new Result(!0,h)},callFn=function(h){return j?(x(h),G?X(h[0],h[1],stop):X(h[0],h[1])):G?X(h,stop):X(h)};if(U)N=h.iterator;else if(z)N=h;else{if(!(R=T(h)))throw new A(b(h)+" is not iterable");if(E(R)){for(_=0,V=S(h);V>_;_++)if((k=callFn(h[_]))&&P(M,k))return k;return new Result(!1)}N=w(h,R)}for(L=U?h.next:N.next;!(D=d(L,N)).done;){try{k=callFn(D.value)}catch(h){C(N,"throw",h)}if("object"==typeof k&&k&&P(M,k))return k}return new Result(!1)}},9263:(h,c,g)=>{"use strict";var f=g(9067),d=g(767),x=g(1721);h.exports=function(h,c,g){var b,E;d(h);try{if(!(b=x(h,"return"))){if("throw"===c)throw g;return g}b=f(b,h)}catch(h){E=!0,b=h}if("throw"===c)throw g;if(E)throw b;return d(b),g}},6405:(h,c,g)=>{"use strict";var f=g(9279).IteratorPrototype,d=g(2143),x=g(8348),b=g(2557),E=g(9332),returnThis=function(){return this};h.exports=function(h,c,g,S){var P=c+" Iterator";return h.prototype=d(f,{next:x(+!S,g)}),b(h,P,!1,!0),E[P]=returnThis,h}},5441:(h,c,g)=>{"use strict";var f=g(5187),d=g(9067),x=g(9980),b=g(9715),E=g(950),S=g(6405),P=g(8805),w=g(3176),T=g(2557),C=g(6135),A=g(2822),M=g(6161),N=g(9332),R=g(9279),_=b.PROPER,V=b.CONFIGURABLE,k=R.IteratorPrototype,L=R.BUGGY_SAFARI_ITERATORS,D=M("iterator"),B="keys",j="values",U="entries",returnThis=function(){return this};h.exports=function(h,c,g,b,M,R,z){S(g,c,b);var G,X,Y,getIterationMethod=function(h){if(h===M&&Z)return Z;if(!L&&h&&h in $)return $[h];switch(h){case B:case j:case U:return function(){return new g(this,h)}}return function(){return new g(this)}},W=c+" Iterator",Q=!1,$=h.prototype,q=$[D]||$["@@iterator"]||M&&$[M],Z=!L&&q||getIterationMethod(M),K="Array"===c&&$.entries||q;if(K&&(G=P(K.call(new h)))!==Object.prototype&&G.next&&(x||P(G)===k||(w?w(G,k):E(G[D])||A(G,D,returnThis)),T(G,W,!0,!0),x&&(N[W]=returnThis)),_&&M===j&&q&&q.name!==j&&(!x&&V?C($,"name",j):(Q=!0,Z=function(){return d(q,this)})),M){if(X={values:getIterationMethod(j),keys:R?Z:getIterationMethod(B),entries:getIterationMethod(U)},z)for(Y in X)!L&&!Q&&Y in $||A($,Y,X[Y]);else f({target:c,proto:!0,forced:L||Q},X)}return(!x||z)&&$[D]!==Z&&A($,D,Z,{name:M}),N[c]=Z,X}},9279:(h,c,g)=>{"use strict";var f,d,x,b=g(9722),E=g(950),S=g(1702),P=g(2143),w=g(8805),T=g(2822),C=g(6161),A=g(9980),M=C("iterator"),N=!1;[].keys&&("next"in(x=[].keys())?(d=w(w(x)))!==Object.prototype&&(f=d):N=!0),!S(f)||b(function(){var h={};return f[M].call(h)!==h})?f={}:A&&(f=P(f)),E(f[M])||T(f,M,function(){return this}),h.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:N}},9332:h=>{"use strict";h.exports={}},1856:(h,c,g)=>{"use strict";var f=g(2138);h.exports=function(h){return f(h.length)}},9040:(h,c,g)=>{"use strict";var f=g(8640),d=g(9722),x=g(950),b=g(4250),E=g(2884),S=g(9715).CONFIGURABLE,P=g(1586),w=g(7957),T=w.enforce,C=w.get,A=String,M=Object.defineProperty,N=f("".slice),R=f("".replace),_=f([].join),V=E&&!d(function(){return 8!==M(function(){},"length",{value:8}).length}),k=String(String).split("String"),L=h.exports=function(h,c,g){"Symbol("===N(A(c),0,7)&&(c="["+R(A(c),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),g&&g.getter&&(c="get "+c),g&&g.setter&&(c="set "+c),(!b(h,"name")||S&&h.name!==c)&&(E?M(h,"name",{value:c,configurable:!0}):h.name=c),V&&g&&b(g,"arity")&&h.length!==g.arity&&M(h,"length",{value:g.arity});try{g&&b(g,"constructor")&&g.constructor?E&&M(h,"prototype",{writable:!1}):h.prototype&&(h.prototype=void 0)}catch(h){}var f=T(h);return b(f,"source")||(f.source=_(k,"string"==typeof c?c:"")),h};Function.prototype.toString=L(function(){return x(this)&&C(this).source||P(this)},"toString")},4786:h=>{"use strict";var c=Math.ceil,g=Math.floor;h.exports=Math.trunc||function(h){var f=+h;return(f>0?g:c)(f)}},5544:(h,c,g)=>{"use strict";var f,d,x,b,E,S=g(3697),P=g(2169),w=g(7632),T=g(6155).set,C=g(9877),A=g(6537),M=g(8520),N=g(6378),R=g(6515),_=S.MutationObserver||S.WebKitMutationObserver,V=S.document,k=S.process,L=S.Promise,D=P("queueMicrotask");if(!D){var B=new C,flush=function(){var h,c;for(R&&(h=k.domain)&&h.exit();c=B.get();)try{c()}catch(h){throw B.head&&f(),h}h&&h.enter()};A||R||N||!_||!V?!M&&L&&L.resolve?((b=L.resolve(void 0)).constructor=L,E=w(b.then,b),f=function(){E(flush)}):R?f=function(){k.nextTick(flush)}:(T=w(T,S),f=function(){T(flush)}):(d=!0,x=V.createTextNode(""),new _(flush).observe(x,{characterData:!0}),f=function(){x.data=d=!d}),D=function(h){B.head||f(),B.add(h)}}h.exports=D},8548:(h,c,g)=>{"use strict";var f=g(1909),d=TypeError,PromiseCapability=function(h){var c,g;this.promise=new h(function(h,f){if(void 0!==c||void 0!==g)throw new d("Bad Promise constructor");c=h,g=f}),this.resolve=f(c),this.reject=f(g)};h.exports.f=function(h){return new PromiseCapability(h)}},7890:(h,c,g)=>{"use strict";var f=g(8924),d=TypeError;h.exports=function(h){if(f(h))throw new d("The method doesn't accept regular expressions");return h}},2143:(h,c,g)=>{"use strict";var f,d=g(767),x=g(3922),b=g(2010),E=g(6800),S=g(6118),P=g(9140),w=g(3198),T="prototype",C="script",A=w("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(h){return"<"+C+">"+h+"</"+C+">"},NullProtoObjectViaActiveX=function(h){h.write(scriptTag("")),h.close();var c=h.parentWindow.Object;return h=null,c},NullProtoObjectViaIFrame=function(){var h,c=P("iframe");return c.style.display="none",S.appendChild(c),c.src=String("java"+C+":"),(h=c.contentWindow.document).open(),h.write(scriptTag("document.F=Object")),h.close(),h.F},NullProtoObject=function(){try{f=new ActiveXObject("htmlfile")}catch(h){}NullProtoObject="undefined"!=typeof document?document.domain&&f?NullProtoObjectViaActiveX(f):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(f);for(var h=b.length;h--;)delete NullProtoObject[T][b[h]];return NullProtoObject()};E[A]=!0,h.exports=Object.create||function(h,c){var g;return null!==h?(EmptyConstructor[T]=d(h),g=new EmptyConstructor,EmptyConstructor[T]=null,g[A]=h):g=NullProtoObject(),void 0===c?g:x.f(g,c)}},3922:(h,c,g)=>{"use strict";var f=g(2884),d=g(7162),x=g(1600),b=g(767),E=g(7794),S=g(8535);c.f=f&&!d?Object.defineProperties:function(h,c){b(h);for(var g,f=E(c),d=S(c),P=d.length,w=0;P>w;)x.f(h,g=d[w++],f[g]);return h}},1600:(h,c,g)=>{"use strict";var f=g(2884),d=g(4036),x=g(7162),b=g(767),E=g(7495),S=TypeError,P=Object.defineProperty,w=Object.getOwnPropertyDescriptor,T="enumerable",C="configurable",A="writable";c.f=f?x?function(h,c,g){if(b(h),c=E(c),b(g),"function"==typeof h&&"prototype"===c&&"value"in g&&A in g&&!g[A]){var f=w(h,c);f&&f[A]&&(h[c]=g.value,g={configurable:C in g?g[C]:f[C],enumerable:T in g?g[T]:f[T],writable:!1})}return P(h,c,g)}:P:function(h,c,g){if(b(h),c=E(c),b(g),d)try{return P(h,c,g)}catch(h){}if("get"in g||"set"in g)throw new S("Accessors not supported");return"value"in g&&(h[c]=g.value),h}},8029:(h,c,g)=>{"use strict";var f=g(2884),d=g(9067),x=g(2061),b=g(8348),E=g(7794),S=g(7495),P=g(4250),w=g(4036),T=Object.getOwnPropertyDescriptor;c.f=f?T:function(h,c){if(h=E(h),c=S(c),w)try{return T(h,c)}catch(h){}if(P(h,c))return b(!d(x.f,h,c),h[c])}},9890:(h,c,g)=>{"use strict";var f=g(3821),d=g(2010).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(h){return f(h,d)}},498:(h,c)=>{"use strict";c.f=Object.getOwnPropertySymbols},8805:(h,c,g)=>{"use strict";var f=g(4250),d=g(950),x=g(242),b=g(3198),E=g(6425),S=b("IE_PROTO"),P=Object,w=P.prototype;h.exports=E?P.getPrototypeOf:function(h){var c=x(h);if(f(c,S))return c[S];var g=c.constructor;return d(g)&&c instanceof g?g.prototype:c instanceof P?w:null}},7324:(h,c,g)=>{"use strict";var f=g(8640);h.exports=f({}.isPrototypeOf)},3821:(h,c,g)=>{"use strict";var f=g(8640),d=g(4250),x=g(7794),b=g(6998).indexOf,E=g(6800),S=f([].push);h.exports=function(h,c){var g,f=x(h),P=0,w=[];for(g in f)!d(E,g)&&d(f,g)&&S(w,g);for(;c.length>P;)d(f,g=c[P++])&&(~b(w,g)||S(w,g));return w}},8535:(h,c,g)=>{"use strict";var f=g(3821),d=g(2010);h.exports=Object.keys||function(h){return f(h,d)}},2061:(h,c)=>{"use strict";var g={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,d=f&&!g.call({1:2},1);c.f=d?function(h){var c=f(this,h);return!!c&&c.enumerable}:g},3176:(h,c,g)=>{"use strict";var f=g(1621),d=g(1702),x=g(3895),b=g(4761);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,c=!1,g={};try{(h=f(Object.prototype,"__proto__","set"))(g,[]),c=g instanceof Array}catch(h){}return function(g,f){return x(g),b(f),d(g)&&(c?h(g,f):g.__proto__=f),g}}():void 0)},1642:(h,c,g)=>{"use strict";var f=g(9067),d=g(950),x=g(1702),b=TypeError;h.exports=function(h,c){var g,E;if("string"===c&&d(g=h.toString)&&!x(E=f(g,h))||d(g=h.valueOf)&&!x(E=f(g,h))||"string"!==c&&d(g=h.toString)&&!x(E=f(g,h)))return E;throw new b("Can't convert object to primitive value")}},1987:(h,c,g)=>{"use strict";var f=g(3210),d=g(8640),x=g(9890),b=g(498),E=g(767),S=d([].concat);h.exports=f("Reflect","ownKeys")||function(h){var c=x.f(E(h)),g=b.f;return g?S(c,g(h)):c}},4262:(h,c,g)=>{"use strict";var f=g(3697);h.exports=f},6957:h=>{"use strict";h.exports=function(h){try{return{error:!1,value:h()}}catch(h){return{error:!0,value:h}}}},9074:(h,c,g)=>{"use strict";var f=g(3697),d=g(9099),x=g(950),b=g(9986),E=g(1586),S=g(6161),P=g(2191),w=g(9980),T=g(4101),C=d&&d.prototype,A=S("species"),M=!1,N=x(f.PromiseRejectionEvent),R=b("Promise",function(){var h=E(d),c=h!==String(d);if(!c&&66===T||w&&!(C.catch&&C.finally))return!0;if(!T||T<51||!/native code/.test(h)){var g=new d(function(h){h(1)}),FakePromise=function(h){h(function(){},function(){})};if((g.constructor={})[A]=FakePromise,!(M=g.then(function(){}) instanceof FakePromise))return!0}return!c&&("BROWSER"===P||"DENO"===P)&&!N});h.exports={CONSTRUCTOR:R,REJECTION_EVENT:N,SUBCLASSING:M}},9099:(h,c,g)=>{"use strict";var f=g(3697);h.exports=f.Promise},9554:(h,c,g)=>{"use strict";var f=g(767),d=g(1702),x=g(8548);h.exports=function(h,c){if(f(h),d(c)&&c.constructor===h)return c;var g=x.f(h);return(0,g.resolve)(c),g.promise}},780:(h,c,g)=>{"use strict";var f=g(9099),d=g(9465),x=g(9074).CONSTRUCTOR;h.exports=x||!d(function(h){f.all(h).then(void 0,function(){})})},9877:h=>{"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(h){var c={item:h,next:null},g=this.tail;g?g.next=c:this.head=c,this.tail=c},get:function(){var h=this.head;if(h)return null===(this.head=h.next)&&(this.tail=null),h.item}},h.exports=Queue},5212:(h,c,g)=>{"use strict";var f=g(9067),d=g(767),x=g(950),b=g(2820),E=g(5611),S=TypeError;h.exports=function(h,c){var g=h.exec;if(x(g)){var P=f(g,h,c);return null!==P&&d(P),P}if("RegExp"===b(h))return f(E,h,c);throw new S("RegExp#exec called on incompatible receiver")}},5611:(h,c,g)=>{"use strict";var f=g(9067),d=g(8640),x=g(5892),b=g(4549),E=g(9032),S=g(4334),P=g(2143),w=g(7957).get,T=g(6158),C=g(1839),A=S("native-string-replace",String.prototype.replace),M=RegExp.prototype.exec,N=M,R=d("".charAt),_=d("".indexOf),V=d("".replace),k=d("".slice),L=function(){var h=/a/,c=/b*/g;return f(M,h,"a"),f(M,c,"a"),0!==h.lastIndex||0!==c.lastIndex}(),D=E.BROKEN_CARET,B=void 0!==/()??/.exec("")[1];(L||B||D||T||C)&&(N=function(h){var c,g,d,E,S,T,C,j=w(this),U=x(h),z=j.raw;if(z)return z.lastIndex=this.lastIndex,c=f(N,z,U),this.lastIndex=z.lastIndex,c;var G=j.groups,X=D&&this.sticky,Y=f(b,this),W=this.source,Q=0,$=U;if(X&&(-1===_(Y=V(Y,"y",""),"g")&&(Y+="g"),$=k(U,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==R(U,this.lastIndex-1))&&(W="(?: "+W+")",$=" "+$,Q++),g=RegExp("^(?:"+W+")",Y)),B&&(g=RegExp("^"+W+"$(?!\\s)",Y)),L&&(d=this.lastIndex),E=f(M,X?g:this,$),X?E?(E.input=k(E.input,Q),E[0]=k(E[0],Q),E.index=this.lastIndex,this.lastIndex+=E[0].length):this.lastIndex=0:L&&E&&(this.lastIndex=this.global?E.index+E[0].length:d),B&&E&&E.length>1&&f(A,E[0],g,function(){for(S=1;S<arguments.length-2;S++)void 0===arguments[S]&&(E[S]=void 0)}),E&&G)for(S=0,E.groups=T=P(null);S<G.length;S++)T[(C=G[S])[0]]=E[C[1]];return E}),h.exports=N},2779:(h,c,g)=>{"use strict";var f=g(3697),d=g(9722),x=f.RegExp,b=!d(function(){var h=!0;try{x(".","d")}catch(c){h=!1}var c={},g="",f=h?"dgimsy":"gimsy",addGetter=function(h,f){Object.defineProperty(c,h,{get:function(){return g+=f,!0}})},d={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var b in h&&(d.hasIndices="d"),d)addGetter(b,d[b]);return Object.getOwnPropertyDescriptor(x.prototype,"flags").get.call(c)!==f||g!==f});h.exports={correct:b}},4549:(h,c,g)=>{"use strict";var f=g(767);h.exports=function(){var h=f(this),c="";return h.hasIndices&&(c+="d"),h.global&&(c+="g"),h.ignoreCase&&(c+="i"),h.multiline&&(c+="m"),h.dotAll&&(c+="s"),h.unicode&&(c+="u"),h.unicodeSets&&(c+="v"),h.sticky&&(c+="y"),c}},2131:(h,c,g)=>{"use strict";var f=g(9067),d=g(4250),x=g(7324),b=g(2779),E=g(4549),S=RegExp.prototype;h.exports=b.correct?function(h){return h.flags}:function(h){return!b.correct&&x(S,h)&&!d(h,"flags")?f(E,h):h.flags}},9032:(h,c,g)=>{"use strict";var f=g(9722),d=g(3697).RegExp,x=f(function(){var h=d("a","y");return h.lastIndex=2,null!==h.exec("abcd")}),b=x||f(function(){return!d("a","y").sticky}),E=x||f(function(){var h=d("^r","gy");return h.lastIndex=2,null!==h.exec("str")});h.exports={BROKEN_CARET:E,MISSED_STICKY:b,UNSUPPORTED_Y:x}},6158:(h,c,g)=>{"use strict";var f=g(9722),d=g(3697).RegExp;h.exports=f(function(){var h=d(".","s");return!(h.dotAll&&h.test("\n")&&"s"===h.flags)})},1839:(h,c,g)=>{"use strict";var f=g(9722),d=g(3697).RegExp;h.exports=f(function(){var h=d("(?<a>b)","g");return"b"!==h.exec("b").groups.a||"bc"!=="b".replace(h,"$<a>c")})},3895:(h,c,g)=>{"use strict";var f=g(7297),d=TypeError;h.exports=function(h){if(f(h))throw new d("Can't call method on "+h);return h}},2169:(h,c,g)=>{"use strict";var f=g(3697),d=g(2884),x=Object.getOwnPropertyDescriptor;h.exports=function(h){if(!d)return f[h];var c=x(f,h);return c&&c.value}},6743:(h,c,g)=>{"use strict";var f=g(3210),d=g(2482),x=g(6161),b=g(2884),E=x("species");h.exports=function(h){var c=f(h);b&&c&&!c[E]&&d(c,E,{configurable:!0,get:function(){return this}})}},2557:(h,c,g)=>{"use strict";var f=g(1600).f,d=g(4250),x=g(6161)("toStringTag");h.exports=function(h,c,g){h&&!g&&(h=h.prototype),h&&!d(h,x)&&f(h,x,{configurable:!0,value:c})}},3198:(h,c,g)=>{"use strict";var f=g(4334),d=g(8141),x=f("keys");h.exports=function(h){return x[h]||(x[h]=d(h))}},5103:(h,c,g)=>{"use strict";var f=g(9980),d=g(3697),x=g(379),b="__core-js_shared__",E=h.exports=d[b]||x(b,{});(E.versions||(E.versions=[])).push({version:"3.44.0",mode:f?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"})},4334:(h,c,g)=>{"use strict";var f=g(5103);h.exports=function(h,c){return f[h]||(f[h]=c||{})}},9851:(h,c,g)=>{"use strict";var f=g(767),d=g(2435),x=g(7297),b=g(6161)("species");h.exports=function(h,c){var g,E=f(h).constructor;return void 0===E||x(g=f(E)[b])?c:d(g)}},3798:(h,c,g)=>{"use strict";var f=g(8640),d=g(7485),x=g(5892),b=g(3895),E=f("".charAt),S=f("".charCodeAt),P=f("".slice),createMethod=function(h){return function(c,g){var f,w,T=x(b(c)),C=d(g),A=T.length;return C<0||C>=A?h?"":void 0:(f=S(T,C))<55296||f>56319||C+1===A||(w=S(T,C+1))<56320||w>57343?h?E(T,C):f:h?P(T,C,C+2):(f-55296<<10)+(w-56320)+65536}};h.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},2913:(h,c,g)=>{"use strict";var f=g(9715).PROPER,d=g(9722),x=g(9360),b="​\x85᠎";h.exports=function(h){return d(function(){return!!x[h]()||b[h]()!==b||f&&x[h].name!==h})}},7837:(h,c,g)=>{"use strict";var f=g(8640),d=g(3895),x=g(5892),b=g(9360),E=f("".replace),S=RegExp("^["+b+"]+"),P=RegExp("(^|[^"+b+"])["+b+"]+$"),createMethod=function(h){return function(c){var g=x(d(c));return 1&h&&(g=E(g,S,"")),2&h&&(g=E(g,P,"$1")),g}};h.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},1705:(h,c,g)=>{"use strict";var f=g(4101),d=g(9722),x=g(3697).String;h.exports=!!Object.getOwnPropertySymbols&&!d(function(){var h=Symbol("symbol detection");return!x(h)||!(Object(h) instanceof Symbol)||!Symbol.sham&&f&&f<41})},6155:(h,c,g)=>{"use strict";var f,d,x,b,E=g(3697),S=g(329),P=g(7632),w=g(950),T=g(4250),C=g(9722),A=g(6118),M=g(1277),N=g(9140),R=g(3299),_=g(6537),V=g(6515),k=E.setImmediate,L=E.clearImmediate,D=E.process,B=E.Dispatch,j=E.Function,U=E.MessageChannel,z=E.String,G=0,X={},Y="onreadystatechange";C(function(){f=E.location});var run=function(h){if(T(X,h)){var c=X[h];delete X[h],c()}},runner=function(h){return function(){run(h)}},eventListener=function(h){run(h.data)},globalPostMessageDefer=function(h){E.postMessage(z(h),f.protocol+"//"+f.host)};k&&L||(k=function(h){R(arguments.length,1);var c=w(h)?h:j(h),g=M(arguments,1);return X[++G]=function(){S(c,void 0,g)},d(G),G},L=function(h){delete X[h]},V?d=function(h){D.nextTick(runner(h))}:B&&B.now?d=function(h){B.now(runner(h))}:U&&!_?(b=(x=new U).port2,x.port1.onmessage=eventListener,d=P(b.postMessage,b)):E.addEventListener&&w(E.postMessage)&&!E.importScripts&&f&&"file:"!==f.protocol&&!C(globalPostMessageDefer)?(d=globalPostMessageDefer,E.addEventListener("message",eventListener,!1)):d=Y in N("script")?function(h){A.appendChild(N("script"))[Y]=function(){A.removeChild(this),run(h)}}:function(h){setTimeout(runner(h),0)}),h.exports={set:k,clear:L}},3027:(h,c,g)=>{"use strict";var f=g(7485),d=Math.max,x=Math.min;h.exports=function(h,c){var g=f(h);return g<0?d(g+c,0):x(g,c)}},7794:(h,c,g)=>{"use strict";var f=g(3955),d=g(3895);h.exports=function(h){return f(d(h))}},7485:(h,c,g)=>{"use strict";var f=g(4786);h.exports=function(h){var c=+h;return c!=c||0===c?0:f(c)}},2138:(h,c,g)=>{"use strict";var f=g(7485),d=Math.min;h.exports=function(h){var c=f(h);return c>0?d(c,9007199254740991):0}},242:(h,c,g)=>{"use strict";var f=g(3895),d=Object;h.exports=function(h){return d(f(h))}},607:(h,c,g)=>{"use strict";var f=g(9067),d=g(1702),x=g(5414),b=g(1721),E=g(1642),S=g(6161),P=TypeError,w=S("toPrimitive");h.exports=function(h,c){if(!d(h)||x(h))return h;var g,S=b(h,w);if(S){if(void 0===c&&(c="default"),!d(g=f(S,h,c))||x(g))return g;throw new P("Can't convert object to primitive value")}return void 0===c&&(c="number"),E(h,c)}},7495:(h,c,g)=>{"use strict";var f=g(607),d=g(5414);h.exports=function(h){var c=f(h,"string");return d(c)?c:c+""}},8784:(h,c,g)=>{"use strict";var f=g(6161)("toStringTag"),d={};d[f]="z",h.exports="[object z]"===String(d)},5892:(h,c,g)=>{"use strict";var f=g(3755),d=String;h.exports=function(h){if("Symbol"===f(h))throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},2581:h=>{"use strict";var c=String;h.exports=function(h){try{return c(h)}catch(h){return"Object"}}},8141:(h,c,g)=>{"use strict";var f=g(8640),d=0,x=Math.random(),b=f(1.1.toString);h.exports=function(h){return"Symbol("+(void 0===h?"":h)+")_"+b(++d+x,36)}},4872:(h,c,g)=>{"use strict";var f=g(1705);h.exports=f&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7162:(h,c,g)=>{"use strict";var f=g(2884),d=g(9722);h.exports=f&&d(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},3299:h=>{"use strict";var c=TypeError;h.exports=function(h,g){if(h<g)throw new c("Not enough arguments");return h}},7060:(h,c,g)=>{"use strict";var f=g(3697),d=g(950),x=f.WeakMap;h.exports=d(x)&&/native code/.test(String(x))},6161:(h,c,g)=>{"use strict";var f=g(3697),d=g(4334),x=g(4250),b=g(8141),E=g(1705),S=g(4872),P=f.Symbol,w=d("wks"),T=S?P.for||P:P&&P.withoutSetter||b;h.exports=function(h){return x(w,h)||(w[h]=E&&x(P,h)?P[h]:T("Symbol."+h)),w[h]}},9360:h=>{"use strict";h.exports="	\n\v\f\r \xa0              　\u2028\u2029\uFEFF"},8297:(h,c,g)=>{"use strict";var f=g(5187),d=g(2835),x=g(6998).indexOf,b=g(8278),E=d([].indexOf),S=!!E&&1/E([1],1,-0)<0;f({target:"Array",proto:!0,forced:S||!b("indexOf")},{indexOf:function(h){var c=arguments.length>1?arguments[1]:void 0;return S?E(this,h,c)||0:x(this,h,c)}})},2100:(h,c,g)=>{"use strict";var f=g(7794),d=g(4834),x=g(9332),b=g(7957),E=g(1600).f,S=g(5441),P=g(6810),w=g(9980),T=g(2884),C="Array Iterator",A=b.set,M=b.getterFor(C);h.exports=S(Array,"Array",function(h,c){A(this,{type:C,target:f(h),index:0,kind:c})},function(){var h=M(this),c=h.target,g=h.index++;if(!c||g>=c.length)return h.target=null,P(void 0,!0);switch(h.kind){case"keys":return P(g,!1);case"values":return P(c[g],!1)}return P([g,c[g]],!1)},"values");var N=x.Arguments=x.Array;if(d("keys"),d("values"),d("entries"),!w&&T&&"values"!==N.name)try{E(N,"name",{value:"values"})}catch(h){}},9561:(h,c,g)=>{"use strict";var f=g(5187),d=g(8694).left,x=g(8278),b=g(4101);f({target:"Array",proto:!0,forced:!g(6515)&&b>79&&b<83||!x("reduce")},{reduce:function(h){var c=arguments.length;return d(this,h,c,c>1?arguments[1]:void 0)}})},1129:(h,c,g)=>{"use strict";var f=g(5187),d=g(8640),x=g(1178),b=d([].reverse),E=[1,2];f({target:"Array",proto:!0,forced:String(E)===String(E.reverse())},{reverse:function(){return x(this)&&(this.length=this.length),b(this)}})},1325:(h,c,g)=>{"use strict";var f=g(5187),d=g(9067),x=g(1909),b=g(8548),E=g(6957),S=g(6333);f({target:"Promise",stat:!0,forced:g(780)},{all:function(h){var c=this,g=b.f(c),f=g.resolve,P=g.reject,w=E(function(){var g=x(c.resolve),b=[],E=0,w=1;S(h,function(h){var x=E++,S=!1;w++,d(g,c,h).then(function(h){!S&&(S=!0,b[x]=h,--w||f(b))},P)}),--w||f(b)});return w.error&&P(w.value),g.promise}})},9925:(h,c,g)=>{"use strict";var f=g(5187),d=g(9980),x=g(9074).CONSTRUCTOR,b=g(9099),E=g(3210),S=g(950),P=g(2822),w=b&&b.prototype;if(f({target:"Promise",proto:!0,forced:x,real:!0},{catch:function(h){return this.then(void 0,h)}}),!d&&S(b)){var T=E("Promise").prototype.catch;w.catch!==T&&P(w,"catch",T,{unsafe:!0})}},8282:(h,c,g)=>{"use strict";var f,d,x,b,E=g(5187),S=g(9980),P=g(6515),w=g(3697),T=g(4262),C=g(9067),A=g(2822),M=g(3176),N=g(2557),R=g(6743),_=g(1909),V=g(950),k=g(1702),L=g(7100),D=g(9851),B=g(6155).set,j=g(5544),U=g(879),z=g(6957),G=g(9877),X=g(7957),Y=g(9099),W=g(9074),Q=g(8548),$="Promise",q=W.CONSTRUCTOR,Z=W.REJECTION_EVENT,K=W.SUBCLASSING,J=X.getterFor($),tt=X.set,te=Y&&Y.prototype,tr=Y,ti=te,tn=w.TypeError,ta=w.document,ts=w.process,to=Q.f,tu=to,tl=!!(ta&&ta.createEvent&&w.dispatchEvent),th="unhandledrejection",isThenable=function(h){var c;return!!(k(h)&&V(c=h.then))&&c},callReaction=function(h,c){var g,f,d,x=c.value,b=1===c.state,E=b?h.ok:h.fail,S=h.resolve,P=h.reject,w=h.domain;try{E?(b||(2===c.rejection&&onHandleUnhandled(c),c.rejection=1),!0===E?g=x:(w&&w.enter(),g=E(x),w&&(w.exit(),d=!0)),g===h.promise?P(new tn("Promise-chain cycle")):(f=isThenable(g))?C(f,g,S,P):S(g)):P(x)}catch(h){w&&!d&&w.exit(),P(h)}},notify=function(h,c){h.notified||(h.notified=!0,j(function(){for(var g,f=h.reactions;g=f.get();)callReaction(g,h);h.notified=!1,c&&!h.rejection&&onUnhandled(h)}))},dispatchEvent=function(h,c,g){var f,d;tl?((f=ta.createEvent("Event")).promise=c,f.reason=g,f.initEvent(h,!1,!0),w.dispatchEvent(f)):f={promise:c,reason:g},!Z&&(d=w["on"+h])?d(f):h===th&&U("Unhandled promise rejection",g)},onUnhandled=function(h){C(B,w,function(){var c,g=h.facade,f=h.value;if(isUnhandled(h)&&(c=z(function(){P?ts.emit("unhandledRejection",f,g):dispatchEvent(th,g,f)}),h.rejection=P||isUnhandled(h)?2:1,c.error))throw c.value})},isUnhandled=function(h){return 1!==h.rejection&&!h.parent},onHandleUnhandled=function(h){C(B,w,function(){var c=h.facade;P?ts.emit("rejectionHandled",c):dispatchEvent("rejectionhandled",c,h.value)})},bind=function(h,c,g){return function(f){h(c,f,g)}},internalReject=function(h,c,g){h.done||(h.done=!0,g&&(h=g),h.value=c,h.state=2,notify(h,!0))},internalResolve=function(h,c,g){if(!h.done){h.done=!0,g&&(h=g);try{if(h.facade===c)throw new tn("Promise can't be resolved itself");var f=isThenable(c);f?j(function(){var g={done:!1};try{C(f,c,bind(internalResolve,g,h),bind(internalReject,g,h))}catch(c){internalReject(g,c,h)}}):(h.value=c,h.state=1,notify(h,!1))}catch(c){internalReject({done:!1},c,h)}}};if(q&&(ti=(tr=function(h){L(this,ti),_(h),C(f,this);var c=J(this);try{h(bind(internalResolve,c),bind(internalReject,c))}catch(h){internalReject(c,h)}}).prototype,(f=function(h){tt(this,{type:$,done:!1,notified:!1,parent:!1,reactions:new G,rejection:!1,state:0,value:null})}).prototype=A(ti,"then",function(h,c){var g=J(this),f=to(D(this,tr));return g.parent=!0,f.ok=!V(h)||h,f.fail=V(c)&&c,f.domain=P?ts.domain:void 0,0===g.state?g.reactions.add(f):j(function(){callReaction(f,g)}),f.promise}),d=function(){var h=new f,c=J(h);this.promise=h,this.resolve=bind(internalResolve,c),this.reject=bind(internalReject,c)},Q.f=to=function(h){return h===tr||h===x?new d(h):tu(h)},!S&&V(Y)&&te!==Object.prototype)){b=te.then,K||A(te,"then",function(h,c){var g=this;return new tr(function(h,c){C(b,g,h,c)}).then(h,c)},{unsafe:!0});try{delete te.constructor}catch(h){}M&&M(te,ti)}E({global:!0,constructor:!0,wrap:!0,forced:q},{Promise:tr}),x=T.Promise,N(tr,$,!1,!0),R($)},7325:(h,c,g)=>{"use strict";g(8282),g(1325),g(9925),g(5889),g(3320),g(6638)},5889:(h,c,g)=>{"use strict";var f=g(5187),d=g(9067),x=g(1909),b=g(8548),E=g(6957),S=g(6333);f({target:"Promise",stat:!0,forced:g(780)},{race:function(h){var c=this,g=b.f(c),f=g.reject,P=E(function(){var b=x(c.resolve);S(h,function(h){d(b,c,h).then(g.resolve,f)})});return P.error&&f(P.value),g.promise}})},3320:(h,c,g)=>{"use strict";var f=g(5187),d=g(8548);f({target:"Promise",stat:!0,forced:g(9074).CONSTRUCTOR},{reject:function(h){var c=d.f(this);return(0,c.reject)(h),c.promise}})},6638:(h,c,g)=>{"use strict";var f=g(5187),d=g(3210),x=g(9980),b=g(9099),E=g(9074).CONSTRUCTOR,S=g(9554),P=d("Promise"),w=x&&!E;f({target:"Promise",stat:!0,forced:x||E},{resolve:function(h){return S(w&&this===P?b:this,h)}})},9506:(h,c,g)=>{"use strict";var f=g(5187),d=g(5611);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},6884:(h,c,g)=>{"use strict";var f=g(9715).PROPER,d=g(2822),x=g(767),b=g(5892),E=g(9722),S=g(2131),P="toString",w=RegExp.prototype,T=w[P],C=E(function(){return"/a/b"!==T.call({source:"a",flags:"b"})}),A=f&&T.name!==P;(C||A)&&d(w,P,function(){var h=x(this);return"/"+b(h.source)+"/"+b(S(h))},{unsafe:!0})},7877:(h,c,g)=>{"use strict";var f=g(5187),d=g(2835),x=g(8029).f,b=g(2138),E=g(5892),S=g(7890),P=g(3895),w=g(9108),T=g(9980),C=d("".slice),A=Math.min,M=w("endsWith");f({target:"String",proto:!0,forced:!(!T&&!M&&function(){var h=x(String.prototype,"endsWith");return h&&!h.writable}())&&!M},{endsWith:function(h){var c=E(P(this));S(h);var g=arguments.length>1?arguments[1]:void 0,f=c.length,d=void 0===g?f:A(b(g),f),x=E(h);return C(c,d-x.length,d)===x}})},2476:(h,c,g)=>{"use strict";var f=g(5187),d=g(8640),x=g(7890),b=g(3895),E=g(5892),S=g(9108),P=d("".indexOf);f({target:"String",proto:!0,forced:!S("includes")},{includes:function(h){return!!~P(E(b(this)),E(x(h)),arguments.length>1?arguments[1]:void 0)}})},7952:(h,c,g)=>{"use strict";var f=g(9067),d=g(8640),x=g(491),b=g(767),E=g(1702),S=g(2138),P=g(5892),w=g(3895),T=g(1721),C=g(4690),A=g(2131),M=g(5212),N=d("".indexOf);x("match",function(h,c,g){return[function(c){var g=w(this),d=E(c)?T(c,h):void 0;return d?f(d,c,g):new RegExp(c)[h](P(g))},function(h){var f,d=b(this),x=P(h),E=g(c,d,x);if(E.done)return E.value;var w=P(A(d));if(-1===N(w,"g"))return M(d,x);var T=-1!==N(w,"u");d.lastIndex=0;for(var R=[],_=0;null!==(f=M(d,x));){var V=P(f[0]);R[_]=V,""===V&&(d.lastIndex=C(x,S(d.lastIndex),T)),_++}return 0===_?null:R}]})},2084:(h,c,g)=>{"use strict";var f=g(329),d=g(9067),x=g(8640),b=g(491),E=g(9722),S=g(767),P=g(950),w=g(1702),T=g(7485),C=g(2138),A=g(5892),M=g(3895),N=g(4690),R=g(1721),_=g(5482),V=g(2131),k=g(5212),L=g(6161)("replace"),D=Math.max,B=Math.min,j=x([].concat),U=x([].push),z=x("".indexOf),G=x("".slice),X="$0"==="a".replace(/./,"$0"),Y=!!/./[L]&&""===/./[L]("a","$0");b("replace",function(h,c,g){var x=Y?"$":"$0";return[function(h,g){var f=M(this),x=w(h)?R(h,L):void 0;return x?d(x,h,f,g):d(c,A(f),h,g)},function(h,d){var b=S(this),E=A(h);if("string"==typeof d&&-1===z(d,x)&&-1===z(d,"$<")){var w=g(c,b,E,d);if(w.done)return w.value}var M=P(d);M||(d=A(d));var R=A(V(b)),L=-1!==z(R,"g");L&&(q=-1!==z(R,"u"),b.lastIndex=0);for(var X=[];null!==(Z=k(b,E))&&(U(X,Z),L);)""===A(Z[0])&&(b.lastIndex=N(E,C(b.lastIndex),q));for(var Y="",W=0,Q=0;Q<X.length;Q++){for(var $,q,Z,K,J=A((Z=X[Q])[0]),tt=D(B(T(Z.index),E.length),0),te=[],tr=1;tr<Z.length;tr++)U(te,void 0===($=Z[tr])?$:String($));var ti=Z.groups;if(M){var tn=j([J],te,tt,E);void 0!==ti&&U(tn,ti),K=A(f(d,void 0,tn))}else K=_(J,E,tt,te,ti,d);tt>=W&&(Y+=G(E,W,tt)+K,W=tt+J.length)}return Y+G(E,W)}]},!!E(function(){var h=/./;return h.exec=function(){var h=[];return h.groups={a:"7"},h},"7"!=="".replace(h,"$<a>")})||!X||Y)},8288:(h,c,g)=>{"use strict";var f=g(9067),d=g(8640),x=g(491),b=g(767),E=g(1702),S=g(3895),P=g(9851),w=g(4690),T=g(2138),C=g(5892),A=g(1721),M=g(5212),N=g(9032),R=g(9722),_=N.UNSUPPORTED_Y,V=Math.min,k=d([].push),L=d("".slice),D=!R(function(){var h=/(?:)/,c=h.exec;h.exec=function(){return c.apply(this,arguments)};var g="ab".split(h);return 2!==g.length||"a"!==g[0]||"b"!==g[1]}),B="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;x("split",function(h,c,g){var d="0".split(void 0,0).length?function(h,g){return void 0===h&&0===g?[]:f(c,this,h,g)}:c;return[function(c,g){var x=S(this),b=E(c)?A(c,h):void 0;return b?f(b,c,x,g):f(d,C(x),c,g)},function(h,f){var x=b(this),E=C(h);if(!B){var S=g(d,x,E,f,d!==c);if(S.done)return S.value}var A=P(x,RegExp),N=x.unicode,R=(x.ignoreCase?"i":"")+(x.multiline?"m":"")+(x.unicode?"u":"")+(_?"g":"y"),D=new A(_?"^(?:"+x.source+")":x,R),j=void 0===f?4294967295:f>>>0;if(0===j)return[];if(0===E.length)return null===M(D,E)?[E]:[];for(var U=0,z=0,G=[];z<E.length;){D.lastIndex=_?0:z;var X,Y=M(D,_?L(E,z):E);if(null===Y||(X=V(T(D.lastIndex+(_?z:0)),E.length))===U)z=w(E,z,N);else{if(k(G,L(E,U,z)),G.length===j)return G;for(var W=1;W<=Y.length-1;W++)if(k(G,Y[W]),G.length===j)return G;z=U=X}}return k(G,L(E,U)),G}]},B||!D,_)},7326:(h,c,g)=>{"use strict";var f=g(5187),d=g(2835),x=g(8029).f,b=g(2138),E=g(5892),S=g(7890),P=g(3895),w=g(9108),T=g(9980),C=d("".slice),A=Math.min,M=w("startsWith");f({target:"String",proto:!0,forced:!(!T&&!M&&function(){var h=x(String.prototype,"startsWith");return h&&!h.writable}())&&!M},{startsWith:function(h){var c=E(P(this));S(h);var g=b(A(arguments.length>1?arguments[1]:void 0,c.length)),f=E(h);return C(c,g,g+f.length)===f}})},9374:(h,c,g)=>{"use strict";var f=g(5187),d=g(7837).trim;f({target:"String",proto:!0,forced:g(2913)("trim")},{trim:function(){return d(this)}})},5917:(h,c,g)=>{"use strict";var f=g(3697),d=g(7566),x=g(7790),b=g(2100),E=g(6135),S=g(2557),P=g(6161)("iterator"),w=b.values,handlePrototype=function(h,c){if(h){if(h[P]!==w)try{E(h,P,w)}catch(c){h[P]=w}if(S(h,c,!0),d[c]){for(var g in b)if(h[g]!==b[g])try{E(h,g,b[g])}catch(c){h[g]=b[g]}}}};for(var T in d)handlePrototype(f[T]&&f[T].prototype,T);handlePrototype(x,"DOMTokenList")},3524:(h,c,g)=>{"use strict";g.r(c),g.d(c,{AElement:()=>AElement,AnimateColorElement:()=>AnimateColorElement,AnimateElement:()=>AnimateElement,AnimateTransformElement:()=>AnimateTransformElement,BoundingBox:()=>BoundingBox,CB1:()=>CB1,CB2:()=>CB2,CB3:()=>CB3,CB4:()=>CB4,Canvg:()=>Canvg,CircleElement:()=>CircleElement,ClipPathElement:()=>ClipPathElement,DefsElement:()=>DefsElement,DescElement:()=>DescElement,Document:()=>Document,Element:()=>Element,EllipseElement:()=>EllipseElement,FeColorMatrixElement:()=>FeColorMatrixElement,FeCompositeElement:()=>FeCompositeElement,FeDropShadowElement:()=>FeDropShadowElement,FeGaussianBlurElement:()=>FeGaussianBlurElement,FeMorphologyElement:()=>FeMorphologyElement,FilterElement:()=>FilterElement,Font:()=>Font,FontElement:()=>FontElement,FontFaceElement:()=>FontFaceElement,GElement:()=>GElement,GlyphElement:()=>GlyphElement,GradientElement:()=>GradientElement,ImageElement:()=>ImageElement,LineElement:()=>LineElement,LinearGradientElement:()=>LinearGradientElement,MarkerElement:()=>MarkerElement,MaskElement:()=>MaskElement,Matrix:()=>Matrix,MissingGlyphElement:()=>MissingGlyphElement,Mouse:()=>Mouse,PSEUDO_ZERO:()=>z,Parser:()=>Parser,PathElement:()=>PathElement,PathParser:()=>PathParser,PatternElement:()=>PatternElement,Point:()=>Point,PolygonElement:()=>PolygonElement,PolylineElement:()=>PolylineElement,Property:()=>Property,QB1:()=>QB1,QB2:()=>QB2,QB3:()=>QB3,RadialGradientElement:()=>RadialGradientElement,RectElement:()=>RectElement,RenderedElement:()=>RenderedElement,Rotate:()=>Rotate,SVGElement:()=>SVGElement,SVGFontLoader:()=>SVGFontLoader,Scale:()=>Scale,Screen:()=>Screen,Skew:()=>Skew,SkewX:()=>SkewX,SkewY:()=>SkewY,StopElement:()=>StopElement,StyleElement:()=>StyleElement,SymbolElement:()=>SymbolElement,TRefElement:()=>TRefElement,TSpanElement:()=>TSpanElement,TextElement:()=>TextElement,TextPathElement:()=>TextPathElement,TitleElement:()=>TitleElement,Transform:()=>Transform,Translate:()=>Translate,UnknownElement:()=>UnknownElement,UseElement:()=>UseElement,ViewPort:()=>ViewPort,compressSpaces:()=>compressSpaces,default:()=>Canvg,getSelectorSpecificity:()=>getSelectorSpecificity,normalizeAttributeName:()=>normalizeAttributeName,normalizeColor:()=>normalizeColor,parseExternalUrl:()=>parseExternalUrl,presets:()=>R,toNumbers:()=>toNumbers,trimLeft:()=>trimLeft,trimRight:()=>trimRight,vectorMagnitude:()=>vectorMagnitude,vectorsAngle:()=>vectorsAngle,vectorsRatio:()=>vectorsRatio}),g(7325);var f=g(2510);g(7952),g(2084),g(7326),g(2100),g(5917);var d=g(513);g(9561),g(7877),g(8288);var x=g(2783);g(9374);var b=g(6049);g(8297),g(2476),g(1129);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var t=function(h,c){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(h[g]=c[g])})(h,c)};function r(h,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function i(){this.constructor=h}t(h,c),h.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}function e(h){var c="";Array.isArray(h)||(h=[h]);for(var g=0;g<h.length;g++){var f=h[g];if(f.type===A.CLOSE_PATH)c+="z";else if(f.type===A.HORIZ_LINE_TO)c+=(f.relative?"h":"H")+f.x;else if(f.type===A.VERT_LINE_TO)c+=(f.relative?"v":"V")+f.y;else if(f.type===A.MOVE_TO)c+=(f.relative?"m":"M")+f.x+" "+f.y;else if(f.type===A.LINE_TO)c+=(f.relative?"l":"L")+f.x+" "+f.y;else if(f.type===A.CURVE_TO)c+=(f.relative?"c":"C")+f.x1+" "+f.y1+" "+f.x2+" "+f.y2+" "+f.x+" "+f.y;else if(f.type===A.SMOOTH_CURVE_TO)c+=(f.relative?"s":"S")+f.x2+" "+f.y2+" "+f.x+" "+f.y;else if(f.type===A.QUAD_TO)c+=(f.relative?"q":"Q")+f.x1+" "+f.y1+" "+f.x+" "+f.y;else if(f.type===A.SMOOTH_QUAD_TO)c+=(f.relative?"t":"T")+f.x+" "+f.y;else{if(f.type!==A.ARC)throw Error('Unexpected command type "'+f.type+'" at index '+g+".");c+=(f.relative?"a":"A")+f.rX+" "+f.rY+" "+f.xRot+" "+ +f.lArcFlag+" "+ +f.sweepFlag+" "+f.x+" "+f.y}}return c}function i(h,c){var g=h[0],f=h[1];return[g*Math.cos(c)-f*Math.sin(c),g*Math.sin(c)+f*Math.cos(c)]}function a(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];for(var g=0;g<h.length;g++)if("number"!=typeof h[g])throw Error("assertNumbers arguments["+g+"] is not a number. "+typeof h[g]+" == typeof "+h[g]);return!0}var E=Math.PI;function o(h,c,g){h.lArcFlag=0===h.lArcFlag?0:1,h.sweepFlag=0===h.sweepFlag?0:1;var f=h.rX,d=h.rY,x=h.x,b=h.y;f=Math.abs(h.rX),d=Math.abs(h.rY);var S=i([(c-x)/2,(g-b)/2],-h.xRot/180*E),P=S[0],w=S[1],T=Math.pow(P,2)/Math.pow(f,2)+Math.pow(w,2)/Math.pow(d,2);1<T&&(f*=Math.sqrt(T),d*=Math.sqrt(T)),h.rX=f,h.rY=d;var C=Math.pow(f,2)*Math.pow(w,2)+Math.pow(d,2)*Math.pow(P,2),A=(h.lArcFlag!==h.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(f,2)*Math.pow(d,2)-C)/C)),M=f*w/d*A,N=-d*P/f*A,R=i([M,N],h.xRot/180*E);h.cX=R[0]+(c+x)/2,h.cY=R[1]+(g+b)/2,h.phi1=Math.atan2((w-N)/d,(P-M)/f),h.phi2=Math.atan2((-w-N)/d,(-P-M)/f),0===h.sweepFlag&&h.phi2>h.phi1&&(h.phi2-=2*E),1===h.sweepFlag&&h.phi2<h.phi1&&(h.phi2+=2*E),h.phi1*=180/E,h.phi2*=180/E}function s(h,c,g){a(h,c,g);var f=h*h+c*c-g*g;if(0>f)return[];if(0===f)return[[h*g/(h*h+c*c),c*g/(h*h+c*c)]];var d=Math.sqrt(f);return[[(h*g+c*d)/(h*h+c*c),(c*g-h*d)/(h*h+c*c)],[(h*g-c*d)/(h*h+c*c),(c*g+h*d)/(h*h+c*c)]]}var S,P=Math.PI/180;function y(h,c,g,f){return h+Math.cos(f/180*E)*c+Math.sin(f/180*E)*g}function p(h,c,g,f){var d=c-h,x=g-c,b=3*d+3*(f-g)-6*x,E=6*(x-d),S=3*d;return 1e-6>Math.abs(b)?[-S/E]:function(h,c,g){void 0===g&&(g=1e-6);var f=h*h/4-c;if(f<-g)return[];if(f<=g)return[-h/2];var d=Math.sqrt(f);return[-h/2-d,-h/2+d]}(E/b,S/b,1e-6)}function m(h,c,g,f,d){var x=1-d;return h*(x*x*x)+c*(3*x*x*d)+g*(3*x*d*d)+f*(d*d*d)}!function(h){function r(){return u(function(h,c,g){return h.relative&&(void 0!==h.x1&&(h.x1+=c),void 0!==h.y1&&(h.y1+=g),void 0!==h.x2&&(h.x2+=c),void 0!==h.y2&&(h.y2+=g),void 0!==h.x&&(h.x+=c),void 0!==h.y&&(h.y+=g),h.relative=!1),h})}function e(){var h=NaN,c=NaN,g=NaN,f=NaN;return u(function(d,x,b){return d.type&A.SMOOTH_CURVE_TO&&(d.type=A.CURVE_TO,h=isNaN(h)?x:h,c=isNaN(c)?b:c,d.x1=d.relative?x-h:2*x-h,d.y1=d.relative?b-c:2*b-c),d.type&A.CURVE_TO?(h=d.relative?x+d.x2:d.x2,c=d.relative?b+d.y2:d.y2):(h=NaN,c=NaN),d.type&A.SMOOTH_QUAD_TO&&(d.type=A.QUAD_TO,g=isNaN(g)?x:g,f=isNaN(f)?b:f,d.x1=d.relative?x-g:2*x-g,d.y1=d.relative?b-f:2*b-f),d.type&A.QUAD_TO?(g=d.relative?x+d.x1:d.x1,f=d.relative?b+d.y1:d.y1):(g=NaN,f=NaN),d})}function n(){var h=NaN,c=NaN;return u(function(g,f,d){if(g.type&A.SMOOTH_QUAD_TO&&(g.type=A.QUAD_TO,h=isNaN(h)?f:h,c=isNaN(c)?d:c,g.x1=g.relative?f-h:2*f-h,g.y1=g.relative?d-c:2*d-c),g.type&A.QUAD_TO){h=g.relative?f+g.x1:g.x1,c=g.relative?d+g.y1:g.y1;var x=g.x1,b=g.y1;g.type=A.CURVE_TO,g.x1=((g.relative?0:f)+2*x)/3,g.y1=((g.relative?0:d)+2*b)/3,g.x2=(g.x+2*x)/3,g.y2=(g.y+2*b)/3}else h=NaN,c=NaN;return g})}function u(h){var c=0,g=0,f=NaN,d=NaN;return function(x){if(isNaN(f)&&!(x.type&A.MOVE_TO))throw Error("path must start with moveto");var b=h(x,c,g,f,d);return x.type&A.CLOSE_PATH&&(c=f,g=d),void 0!==x.x&&(c=x.relative?c+x.x:x.x),void 0!==x.y&&(g=x.relative?g+x.y:x.y),x.type&A.MOVE_TO&&(f=c,d=g),b}}function O(h,c,g,f,d,x){return a(h,c,g,f,d,x),u(function(b,E,S,P){var w=b.x1,T=b.x2,C=b.relative&&!isNaN(P),M=void 0!==b.x?b.x:C?0:E,N=void 0!==b.y?b.y:C?0:S;b.type&A.HORIZ_LINE_TO&&0!==c&&(b.type=A.LINE_TO,b.y=b.relative?0:S),b.type&A.VERT_LINE_TO&&0!==g&&(b.type=A.LINE_TO,b.x=b.relative?0:E),void 0!==b.x&&(b.x=b.x*h+N*g+(C?0:d)),void 0!==b.y&&(b.y=M*c+b.y*f+(C?0:x)),void 0!==b.x1&&(b.x1=b.x1*h+b.y1*g+(C?0:d)),void 0!==b.y1&&(b.y1=w*c+b.y1*f+(C?0:x)),void 0!==b.x2&&(b.x2=b.x2*h+b.y2*g+(C?0:d)),void 0!==b.y2&&(b.y2=T*c+b.y2*f+(C?0:x));var R=h*f-c*g;if(void 0!==b.xRot&&(1!==h||0!==c||0!==g||1!==f)){if(0===R)delete b.rX,delete b.rY,delete b.xRot,delete b.lArcFlag,delete b.sweepFlag,b.type=A.LINE_TO;else{var _,V,k=b.xRot*Math.PI/180,L=Math.sin(k),D=Math.cos(k),B=1/((_=b.rX)*_),j=1/((V=b.rY)*V),U=D*D*B+L*L*j,z=2*L*D*(B-j),G=L*L*B+D*D*j,X=U*f*f-z*c*f+G*c*c,Y=z*(h*f+c*g)-2*(U*g*f+G*h*c),W=U*g*g-z*h*g+G*h*h,Q=(Math.atan2(Y,X-W)+Math.PI)%Math.PI/2,$=Math.sin(Q),q=Math.cos(Q);b.rX=Math.abs(R)/Math.sqrt(X*(q*q)+Y*$*q+W*($*$)),b.rY=Math.abs(R)/Math.sqrt(X*($*$)-Y*$*q+W*(q*q)),b.xRot=180*Q/Math.PI}}return void 0!==b.sweepFlag&&0>R&&(b.sweepFlag=+!b.sweepFlag),b})}function l(){return function(h){var c={};for(var g in h)c[g]=h[g];return c}}h.ROUND=function(h){function r(c){return Math.round(c*h)/h}return void 0===h&&(h=1e13),a(h),function(h){return void 0!==h.x1&&(h.x1=r(h.x1)),void 0!==h.y1&&(h.y1=r(h.y1)),void 0!==h.x2&&(h.x2=r(h.x2)),void 0!==h.y2&&(h.y2=r(h.y2)),void 0!==h.x&&(h.x=r(h.x)),void 0!==h.y&&(h.y=r(h.y)),void 0!==h.rX&&(h.rX=r(h.rX)),void 0!==h.rY&&(h.rY=r(h.rY)),h}},h.TO_ABS=r,h.TO_REL=function(){return u(function(h,c,g){return h.relative||(void 0!==h.x1&&(h.x1-=c),void 0!==h.y1&&(h.y1-=g),void 0!==h.x2&&(h.x2-=c),void 0!==h.y2&&(h.y2-=g),void 0!==h.x&&(h.x-=c),void 0!==h.y&&(h.y-=g),h.relative=!0),h})},h.NORMALIZE_HVZ=function(h,c,g){return void 0===h&&(h=!0),void 0===c&&(c=!0),void 0===g&&(g=!0),u(function(f,d,x,b,E){if(isNaN(b)&&!(f.type&A.MOVE_TO))throw Error("path must start with moveto");return c&&f.type&A.HORIZ_LINE_TO&&(f.type=A.LINE_TO,f.y=f.relative?0:x),g&&f.type&A.VERT_LINE_TO&&(f.type=A.LINE_TO,f.x=f.relative?0:d),h&&f.type&A.CLOSE_PATH&&(f.type=A.LINE_TO,f.x=f.relative?b-d:b,f.y=f.relative?E-x:E),f.type&A.ARC&&(0===f.rX||0===f.rY)&&(f.type=A.LINE_TO,delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag),f})},h.NORMALIZE_ST=e,h.QT_TO_C=n,h.INFO=u,h.SANITIZE=function(h){void 0===h&&(h=0),a(h);var c=NaN,g=NaN,f=NaN,d=NaN;return u(function(x,b,E,S,P){var w=Math.abs,T=!1,C=0,M=0;if(x.type&A.SMOOTH_CURVE_TO&&(C=isNaN(c)?0:b-c,M=isNaN(g)?0:E-g),x.type&(A.CURVE_TO|A.SMOOTH_CURVE_TO)?(c=x.relative?b+x.x2:x.x2,g=x.relative?E+x.y2:x.y2):(c=NaN,g=NaN),x.type&A.SMOOTH_QUAD_TO?(f=isNaN(f)?b:2*b-f,d=isNaN(d)?E:2*E-d):x.type&A.QUAD_TO?(f=x.relative?b+x.x1:x.x1,d=x.relative?E+x.y1:x.y2):(f=NaN,d=NaN),x.type&A.LINE_COMMANDS||x.type&A.ARC&&(0===x.rX||0===x.rY||!x.lArcFlag)||x.type&A.CURVE_TO||x.type&A.SMOOTH_CURVE_TO||x.type&A.QUAD_TO||x.type&A.SMOOTH_QUAD_TO){var N=void 0===x.x?0:x.relative?x.x:x.x-b,R=void 0===x.y?0:x.relative?x.y:x.y-E;C=isNaN(f)?void 0===x.x1?C:x.relative?x.x:x.x1-b:f-b,M=isNaN(d)?void 0===x.y1?M:x.relative?x.y:x.y1-E:d-E;var _=void 0===x.x2?0:x.relative?x.x:x.x2-b,V=void 0===x.y2?0:x.relative?x.y:x.y2-E;w(N)<=h&&w(R)<=h&&w(C)<=h&&w(M)<=h&&w(_)<=h&&w(V)<=h&&(T=!0)}return x.type&A.CLOSE_PATH&&w(b-S)<=h&&w(E-P)<=h&&(T=!0),T?[]:x})},h.MATRIX=O,h.ROTATE=function(h,c,g){void 0===c&&(c=0),void 0===g&&(g=0),a(h,c,g);var f=Math.sin(h),d=Math.cos(h);return O(d,f,-f,d,c-c*d+g*f,g-c*f-g*d)},h.TRANSLATE=function(h,c){return void 0===c&&(c=0),a(h,c),O(1,0,0,1,h,c)},h.SCALE=function(h,c){return void 0===c&&(c=h),a(h,c),O(h,0,0,c,0,0)},h.SKEW_X=function(h){return a(h),O(1,0,Math.atan(h),1,0,0)},h.SKEW_Y=function(h){return a(h),O(1,Math.atan(h),0,1,0,0)},h.X_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(-1,0,0,1,h,0)},h.Y_AXIS_SYMMETRY=function(h){return void 0===h&&(h=0),a(h),O(1,0,0,-1,0,h)},h.A_TO_C=function(){return u(function(h,c,g){return A.ARC===h.type?function(h,c,g){var f,d,x,b;h.cX||o(h,c,g);for(var E=Math.min(h.phi1,h.phi2),S=Math.max(h.phi1,h.phi2)-E,w=Math.ceil(S/90),T=Array(w),C=c,M=g,N=0;N<w;N++){var R,_,V,k,L,D,B=(R=h.phi1,_=h.phi2,(1-(V=N/w))*R+V*_),j=(k=h.phi1,L=h.phi2,(1-(D=(N+1)/w))*k+D*L),U=4/3*Math.tan((j-B)*P/4),z=[Math.cos(B*P)-U*Math.sin(B*P),Math.sin(B*P)+U*Math.cos(B*P)],G=z[0],X=z[1],Y=[Math.cos(j*P),Math.sin(j*P)],W=Y[0],Q=Y[1],$=[W+U*Math.sin(j*P),Q-U*Math.cos(j*P)],q=$[0],Z=$[1];T[N]={relative:h.relative,type:A.CURVE_TO};var H=function(c,g){var f=i([c*h.rX,g*h.rY],h.xRot),d=f[0],x=f[1];return[h.cX+d,h.cY+x]};f=H(G,X),T[N].x1=f[0],T[N].y1=f[1],d=H(q,Z),T[N].x2=d[0],T[N].y2=d[1],x=H(W,Q),T[N].x=x[0],T[N].y=x[1],h.relative&&(T[N].x1-=C,T[N].y1-=M,T[N].x2-=C,T[N].y2-=M,T[N].x-=C,T[N].y-=M),C=(b=[T[N].x,T[N].y])[0],M=b[1]}return T}(h,h.relative?0:c,h.relative?0:g):h})},h.ANNOTATE_ARCS=function(){return u(function(h,c,g){return h.relative&&(c=0,g=0),A.ARC===h.type&&o(h,c,g),h})},h.CLONE=l,h.CALCULATE_BOUNDS=function(){var t=function(h){var c={};for(var g in h)c[g]=h[g];return c},h=r(),c=n(),g=e(),f=u(function(d,x,b){var E=g(c(h(t(d))));function O(h){h>f.maxX&&(f.maxX=h),h<f.minX&&(f.minX=h)}function l(h){h>f.maxY&&(f.maxY=h),h<f.minY&&(f.minY=h)}if(E.type&A.DRAWING_COMMANDS&&(O(x),l(b)),E.type&A.HORIZ_LINE_TO&&O(E.x),E.type&A.VERT_LINE_TO&&l(E.y),E.type&A.LINE_TO&&(O(E.x),l(E.y)),E.type&A.CURVE_TO){O(E.x),l(E.y);for(var S=0,P=p(x,E.x1,E.x2,E.x);S<P.length;S++)0<(C=P[S])&&1>C&&O(m(x,E.x1,E.x2,E.x,C));for(var w=0,T=p(b,E.y1,E.y2,E.y);w<T.length;w++)0<(C=T[w])&&1>C&&l(m(b,E.y1,E.y2,E.y,C))}if(E.type&A.ARC){O(E.x),l(E.y),o(E,x,b);for(var C,M=E.xRot/180*Math.PI,N=Math.cos(M)*E.rX,R=Math.sin(M)*E.rX,_=-Math.sin(M)*E.rY,V=Math.cos(M)*E.rY,k=E.phi1<E.phi2?[E.phi1,E.phi2]:-180>E.phi2?[E.phi2+360,E.phi1+360]:[E.phi2,E.phi1],L=k[0],D=k[1],I=function(h){var c=h[0],g=180*Math.atan2(h[1],c)/Math.PI;return g<L?g+360:g},B=0,j=s(_,-N,0).map(I);B<j.length;B++)(C=j[B])>L&&C<D&&O(y(E.cX,N,_,C));for(var U=0,z=s(V,-R,0).map(I);U<z.length;U++)(C=z[U])>L&&C<D&&l(y(E.cY,R,V,C))}return d});return f.minX=1/0,f.maxX=-1/0,f.minY=1/0,f.maxY=-1/0,f}}(S||(S={}));var w,T=function(){function t(){}return t.prototype.round=function(h){return this.transform(S.ROUND(h))},t.prototype.toAbs=function(){return this.transform(S.TO_ABS())},t.prototype.toRel=function(){return this.transform(S.TO_REL())},t.prototype.normalizeHVZ=function(h,c,g){return this.transform(S.NORMALIZE_HVZ(h,c,g))},t.prototype.normalizeST=function(){return this.transform(S.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(S.QT_TO_C())},t.prototype.aToC=function(){return this.transform(S.A_TO_C())},t.prototype.sanitize=function(h){return this.transform(S.SANITIZE(h))},t.prototype.translate=function(h,c){return this.transform(S.TRANSLATE(h,c))},t.prototype.scale=function(h,c){return this.transform(S.SCALE(h,c))},t.prototype.rotate=function(h,c,g){return this.transform(S.ROTATE(h,c,g))},t.prototype.matrix=function(h,c,g,f,d,x){return this.transform(S.MATRIX(h,c,g,f,d,x))},t.prototype.skewX=function(h){return this.transform(S.SKEW_X(h))},t.prototype.skewY=function(h){return this.transform(S.SKEW_Y(h))},t.prototype.xSymmetry=function(h){return this.transform(S.X_AXIS_SYMMETRY(h))},t.prototype.ySymmetry=function(h){return this.transform(S.Y_AXIS_SYMMETRY(h))},t.prototype.annotateArcs=function(){return this.transform(S.ANNOTATE_ARCS())},t}(),v=function(h){return 48<=h.charCodeAt(0)&&57>=h.charCodeAt(0)},C=function(h){function e(){var c=h.call(this)||this;return c.curNumber="",c.curCommandType=-1,c.curCommandRelative=!1,c.canParseCommandOrComma=!0,c.curNumberHasExp=!1,c.curNumberHasExpDigits=!1,c.curNumberHasDecimal=!1,c.curArgs=[],c}return r(e,h),e.prototype.finish=function(h){if(void 0===h&&(h=[]),this.parse(" ",h),0!==this.curArgs.length||!this.canParseCommandOrComma)throw SyntaxError("Unterminated command at the path end.");return h},e.prototype.parse=function(h,c){var g=this;void 0===c&&(c=[]);for(var i=function(h){c.push(h),g.curArgs.length=0,g.canParseCommandOrComma=!0},f=0;f<h.length;f++){var d=h[f],x=!(this.curCommandType!==A.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),b=v(d)&&("0"===this.curNumber&&"0"===d||x);if(!v(d)||b){if("e"!==d&&"E"!==d){if("-"!==d&&"+"!==d||!this.curNumberHasExp||this.curNumberHasExpDigits){if("."!==d||this.curNumberHasExp||this.curNumberHasDecimal||x){if(this.curNumber&&-1!==this.curCommandType){var E=Number(this.curNumber);if(isNaN(E))throw SyntaxError("Invalid number ending at "+f);if(this.curCommandType===A.ARC){if(0===this.curArgs.length||1===this.curArgs.length){if(0>E)throw SyntaxError('Expected positive number, got "'+E+'" at index "'+f+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+f+'"')}this.curArgs.push(E),this.curArgs.length===M[this.curCommandType]&&(A.HORIZ_LINE_TO===this.curCommandType?i({type:A.HORIZ_LINE_TO,relative:this.curCommandRelative,x:E}):A.VERT_LINE_TO===this.curCommandType?i({type:A.VERT_LINE_TO,relative:this.curCommandRelative,y:E}):this.curCommandType===A.MOVE_TO||this.curCommandType===A.LINE_TO||this.curCommandType===A.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),A.MOVE_TO===this.curCommandType&&(this.curCommandType=A.LINE_TO)):this.curCommandType===A.CURVE_TO?i({type:A.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===A.SMOOTH_CURVE_TO?i({type:A.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===A.QUAD_TO?i({type:A.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===A.ARC&&i({type:A.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!(" "===d||"	"===d||"\r"===d||"\n"===d)){if(","===d&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==d&&"-"!==d&&"."!==d){if(b)this.curNumber=d,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw SyntaxError("Unterminated command at index "+f+".");if(!this.canParseCommandOrComma)throw SyntaxError('Unexpected character "'+d+'" at index '+f+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==d&&"Z"!==d){if("h"===d||"H"===d)this.curCommandType=A.HORIZ_LINE_TO,this.curCommandRelative="h"===d;else if("v"===d||"V"===d)this.curCommandType=A.VERT_LINE_TO,this.curCommandRelative="v"===d;else if("m"===d||"M"===d)this.curCommandType=A.MOVE_TO,this.curCommandRelative="m"===d;else if("l"===d||"L"===d)this.curCommandType=A.LINE_TO,this.curCommandRelative="l"===d;else if("c"===d||"C"===d)this.curCommandType=A.CURVE_TO,this.curCommandRelative="c"===d;else if("s"===d||"S"===d)this.curCommandType=A.SMOOTH_CURVE_TO,this.curCommandRelative="s"===d;else if("q"===d||"Q"===d)this.curCommandType=A.QUAD_TO,this.curCommandRelative="q"===d;else if("t"===d||"T"===d)this.curCommandType=A.SMOOTH_QUAD_TO,this.curCommandRelative="t"===d;else{if("a"!==d&&"A"!==d)throw SyntaxError('Unexpected character "'+d+'" at index '+f+".");this.curCommandType=A.ARC,this.curCommandRelative="a"===d}}else c.push({type:A.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}}else this.curNumber=d,this.curNumberHasDecimal="."===d}}else this.curNumber+=d,this.curNumberHasDecimal=!0}else this.curNumber+=d}else this.curNumber+=d,this.curNumberHasExp=!0}else this.curNumber+=d,this.curNumberHasExpDigits=this.curNumberHasExp}return c},e.prototype.transform=function(h){return Object.create(this,{parse:{value:function(c,g){void 0===g&&(g=[]);for(var f=0,d=Object.getPrototypeOf(this).parse.call(this,c);f<d.length;f++){var x=h(d[f]);Array.isArray(x)?g.push.apply(g,x):g.push(x)}return g}}})},e}(T),A=function(h){function i(c){var g=h.call(this)||this;return g.commands="string"==typeof c?i.parse(c):c,g}return r(i,h),i.prototype.encode=function(){return i.encode(this.commands)},i.prototype.getBounds=function(){var h=S.CALCULATE_BOUNDS();return this.transform(h),h},i.prototype.transform=function(h){for(var c=[],g=0,f=this.commands;g<f.length;g++){var d=h(f[g]);Array.isArray(d)?c.push.apply(c,d):c.push(d)}return this.commands=c,this},i.encode=function(h){return e(h)},i.parse=function(h){var c=new C,g=[];return c.parse(h,g),c.finish(g),g},i.CLOSE_PATH=1,i.MOVE_TO=2,i.HORIZ_LINE_TO=4,i.VERT_LINE_TO=8,i.LINE_TO=16,i.CURVE_TO=32,i.SMOOTH_CURVE_TO=64,i.QUAD_TO=128,i.SMOOTH_QUAD_TO=256,i.ARC=512,i.LINE_COMMANDS=i.LINE_TO|i.HORIZ_LINE_TO|i.VERT_LINE_TO,i.DRAWING_COMMANDS=i.HORIZ_LINE_TO|i.VERT_LINE_TO|i.LINE_TO|i.CURVE_TO|i.SMOOTH_CURVE_TO|i.QUAD_TO|i.SMOOTH_QUAD_TO|i.ARC,i}(T),M=((w={})[A.MOVE_TO]=2,w[A.LINE_TO]=2,w[A.HORIZ_LINE_TO]=1,w[A.VERT_LINE_TO]=1,w[A.CLOSE_PATH]=0,w[A.QUAD_TO]=4,w[A.SMOOTH_QUAD_TO]=2,w[A.CURVE_TO]=6,w[A.SMOOTH_CURVE_TO]=4,w[A.ARC]=7,w);g(6884);var N=g(9338),R=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:h,createCanvas:(h,c)=>new OffscreenCanvas(h,c),createImage:h=>f(function*(){var c=yield fetch(h),g=yield c.blob();return yield createImageBitmap(g)})()};return("undefined"!=typeof DOMParser||void 0===h)&&Reflect.deleteProperty(c,"DOMParser"),c},node:function(h){var{DOMParser:c,canvas:g,fetch:f}=h;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:c,fetch:f,createCanvas:g.createCanvas,createImage:g.loadImage}}});function compressSpaces(h){return h.replace(/(?!\u3000)\s+/gm," ")}function trimLeft(h){return h.replace(/^[\n \t]+/,"")}function trimRight(h){return h.replace(/[\n \t]+$/,"")}function toNumbers(h){return((h||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var _=/^[A-Z-]+$/;function normalizeAttributeName(h){return _.test(h)?h.toLowerCase():h}function parseExternalUrl(h){var c=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(h)||[];return c[2]||c[3]||c[4]}function normalizeColor(h){if(!h.startsWith("rgb"))return h;var c=3;return h.replace(/\d+(\.\d+)?/g,(h,g)=>c--&&g?String(Math.round(parseFloat(h))):h)}var V=/(\[[^\]]+\])/g,k=/(#[^\s+>~.[:]+)/g,L=/(\.[^\s+>~.[:]+)/g,D=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,B=/(:[\w-]+\([^)]*\))/gi,j=/(:[^\s+>~.[:]+)/g,U=/([^\s+>~.[:]+)/g;function findSelectorMatch(h,c){var g=c.exec(h);return g?[h.replace(c," "),g.length]:[h,0]}function getSelectorSpecificity(h){var c=[0,0,0],g=h.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),f=0;return[g,f]=findSelectorMatch(g,V),c[1]+=f,[g,f]=findSelectorMatch(g,k),c[0]+=f,[g,f]=findSelectorMatch(g,L),c[1]+=f,[g,f]=findSelectorMatch(g,D),c[2]+=f,[g,f]=findSelectorMatch(g,B),c[1]+=f,[g,f]=findSelectorMatch(g,j),c[1]+=f,g=g.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[g,f]=findSelectorMatch(g,U),c[2]+=f,c.join("")}var z=1e-8;function vectorMagnitude(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2))}function vectorsRatio(h,c){return(h[0]*c[0]+h[1]*c[1])/(vectorMagnitude(h)*vectorMagnitude(c))}function vectorsAngle(h,c){return(h[0]*c[1]<h[1]*c[0]?-1:1)*Math.acos(vectorsRatio(h,c))}function CB1(h){return h*h*h}function CB2(h){return 3*h*h*(1-h)}function CB3(h){return 3*h*(1-h)*(1-h)}function CB4(h){return(1-h)*(1-h)*(1-h)}function QB1(h){return h*h}function QB2(h){return 2*h*(1-h)}function QB3(h){return(1-h)*(1-h)}let Property=class Property{constructor(h,c,g){this.document=h,this.name=c,this.value=g,this.isNormalizedColor=!1}static empty(h){return new Property(h,"EMPTY","")}split(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:c,name:g}=this;return compressSpaces(this.getString()).trim().split(h).map(h=>new Property(c,g,h))}hasValue(h){var{value:c}=this;return null!==c&&""!==c&&(h||0!==c)&&void 0!==c}isString(h){var{value:c}=this,g="string"==typeof c;return g&&h?h.test(c):g}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var h=this.getString();switch(!0){case h.endsWith("px"):case/^[0-9]+$/.test(h):return!0;default:return!1}}setValue(h){return this.value=h,this}getValue(h){return void 0===h||this.hasValue()?this.value:h}getNumber(h){if(!this.hasValue())return void 0===h?0:parseFloat(h);var{value:c}=this,g=parseFloat(c);return this.isString(/%$/)&&(g/=100),g}getString(h){return void 0===h||this.hasValue()?void 0===this.value?"":String(this.value):String(h)}getColor(h){var c=this.getString(h);return this.isNormalizedColor||(this.isNormalizedColor=!0,c=normalizeColor(c),this.value=c),c}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[g,f]="boolean"==typeof h?[void 0,h]:[h],{viewPort:d}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(d.computeSize("x"),d.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(d.computeSize("x"),d.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*d.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*d.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&f:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*d.computeSize(g);default:var x=this.getNumber();if(c&&x<1)return x*d.computeSize(g);return x}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var h=this.getString(),c=/#([^)'"]+)/.exec(h);return c&&(c=c[1]),c||(c=h),this.document.definitions[c]}getFillStyleDefinition(h,c){var g=this.getDefinition();if(!g)return null;if("function"==typeof g.createGradient)return g.createGradient(this.document.ctx,h,c);if("function"==typeof g.createPattern){if(g.getHrefAttribute().hasValue()){var f=g.getAttribute("patternTransform");g=g.getHrefAttribute().getDefinition(),f.hasValue()&&g.getAttribute("patternTransform",!0).setValue(f.value)}return g.createPattern(this.document.ctx,h,c)}return null}getTextBaseline(){return this.hasValue()?Property.textBaselineMapping[this.getString()]:null}addOpacity(h){for(var c=this.getColor(),g=c.length,f=0,d=0;d<g&&(","===c[d]&&f++,3!==f);d++);if(h.hasValue()&&this.isString()&&3!==f){var x=new b(c);x.ok&&(x.alpha=h.getNumber(),c=x.toRGBA())}return new Property(this.document,this.name,c)}};Property.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};let ViewPort=class ViewPort{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(h,c){this.viewPorts.push({width:h,height:c})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:h}=this;return h[h.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(h){return"number"==typeof h?h:"x"===h?this.width:"y"===h?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}};let Point=class Point{constructor(h,c){this.x=h,this.y=c}static parse(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[g=c,f=c]=toNumbers(h);return new Point(g,f)}static parseScale(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[g=c,f=g]=toNumbers(h);return new Point(g,f)}static parsePath(h){for(var c=toNumbers(h),g=c.length,f=[],d=0;d<g;d+=2)f.push(new Point(c[d],c[d+1]));return f}angleTo(h){return Math.atan2(h.y-this.y,h.x-this.x)}applyTransform(h){var{x:c,y:g}=this,f=c*h[0]+g*h[2]+h[4],d=c*h[1]+g*h[3]+h[5];this.x=f,this.y=d}};let Mouse=class Mouse{constructor(h){this.screen=h,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:h,onClick:c,onMouseMove:g}=this,f=h.ctx.canvas;f.onclick=c,f.onmousemove=g,this.working=!0}}stop(){if(this.working){var h=this.screen.ctx.canvas;this.working=!1,h.onclick=null,h.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:h,events:c,eventElements:g}=this,{style:f}=h.ctx.canvas;f&&(f.cursor=""),c.forEach((h,c)=>{for(var{run:f}=h,d=g[c];d;)f(d),d=d.parent}),this.events=[],this.eventElements=[]}}checkPath(h,c){if(this.working&&c){var{events:g,eventElements:f}=this;g.forEach((g,d)=>{var{x,y:b}=g;!f[d]&&c.isPointInPath&&c.isPointInPath(x,b)&&(f[d]=h)})}}checkBoundingBox(h,c){if(this.working&&c){var{events:g,eventElements:f}=this;g.forEach((g,d)=>{var{x,y:b}=g;!f[d]&&c.isPointInBox(x,b)&&(f[d]=h)})}}mapXY(h,c){for(var{window:g,ctx:f}=this.screen,d=new Point(h,c),x=f.canvas;x;)d.x-=x.offsetLeft,d.y-=x.offsetTop,x=x.offsetParent;return g.scrollX&&(d.x+=g.scrollX),g.scrollY&&(d.y+=g.scrollY),d}onClick(h){var{x:c,y:g}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onclick",x:c,y:g,run(h){h.onClick&&h.onClick()}})}onMouseMove(h){var{x:c,y:g}=this.mapXY(h.clientX,h.clientY);this.events.push({type:"onmousemove",x:c,y:g,run(h){h.onMouseMove&&h.onMouseMove()}})}};var G="undefined"!=typeof window?window:null,X="undefined"!=typeof fetch?fetch.bind(void 0):null;let Screen=class Screen{constructor(h){var{fetch:c=X,window:g=G}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=h,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new ViewPort,this.mouse=new Mouse(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=g,this.fetch=c}wait(h){this.waits.push(h)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var h=this.waits.every(h=>h());return h&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=h,h}setDefaults(h){h.strokeStyle="rgba(0,0,0,0)",h.lineCap="butt",h.lineJoin="miter",h.miterLimit=4}setViewBox(h){var{document:c,ctx:g,aspectRatio:f,width:d,desiredWidth:x,height:b,desiredHeight:E,minX:S=0,minY:P=0,refX:w,refY:T,clip:C=!1,clipX:A=0,clipY:M=0}=h,[N,R]=compressSpaces(f).replace(/^defer\s/,"").split(" "),_=N||"xMidYMid",V=R||"meet",k=d/x,L=b/E,D=Math.min(k,L),B=Math.max(k,L),j=x,U=E;"meet"===V&&(j*=D,U*=D),"slice"===V&&(j*=B,U*=B);var z=new Property(c,"refX",w),G=new Property(c,"refY",T),X=z.hasValue()&&G.hasValue();if(X&&g.translate(-D*z.getPixels("x"),-D*G.getPixels("y")),C){var Y=D*A,W=D*M;g.beginPath(),g.moveTo(Y,W),g.lineTo(d,W),g.lineTo(d,b),g.lineTo(Y,b),g.closePath(),g.clip()}if(!X){var Q="meet"===V&&D===L,$="slice"===V&&B===L,q="meet"===V&&D===k,Z="slice"===V&&B===k;_.startsWith("xMid")&&(Q||$)&&g.translate(d/2-j/2,0),_.endsWith("YMid")&&(q||Z)&&g.translate(0,b/2-U/2),_.startsWith("xMax")&&(Q||$)&&g.translate(d-j,0),_.endsWith("YMax")&&(q||Z)&&g.translate(0,b-U)}switch(!0){case"none"===_:g.scale(k,L);break;case"meet"===V:g.scale(D,D);break;case"slice"===V:g.scale(B,B)}g.translate(-S,-P)}start(h){var{enableRedraw:c=!1,ignoreMouse:g=!1,ignoreAnimation:f=!1,ignoreDimensions:d=!1,ignoreClear:b=!1,forceRedraw:E,scaleWidth:S,scaleHeight:P,offsetX:w,offsetY:T}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:C,mouse:A}=this,M=1e3/C;if(this.frameDuration=M,this.readyPromise=new Promise(h=>{this.resolveReady=h}),this.isReady()&&this.render(h,d,b,S,P,w,T),c){var N=Date.now(),R=N,_=0,tick=()=>{(_=(N=Date.now())-R)>=M&&(R=N-_%M,this.shouldUpdate(f,E)&&(this.render(h,d,b,S,P,w,T),A.runEvents())),this.intervalId=x(tick)};g||A.start(),this.intervalId=x(tick)}}stop(){this.intervalId&&(x.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(h,c){if(!h){var{frameDuration:g}=this;if(this.animations.reduce((h,c)=>c.update(g)||h,!1))return!0}return!!("function"==typeof c&&c()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(h,c,g,f,d,x,b){var{CLIENT_WIDTH:E,CLIENT_HEIGHT:S,viewPort:P,ctx:w,isFirstRender:T}=this,C=w.canvas;P.clear(),C.width&&C.height?P.setCurrent(C.width,C.height):P.setCurrent(E,S);var A=h.getStyle("width"),M=h.getStyle("height");!c&&(T||"number"!=typeof f&&"number"!=typeof d)&&(A.hasValue()&&(C.width=A.getPixels("x"),C.style&&(C.style.width="".concat(C.width,"px"))),M.hasValue()&&(C.height=M.getPixels("y"),C.style&&(C.style.height="".concat(C.height,"px"))));var N=C.clientWidth||C.width,R=C.clientHeight||C.height;if(c&&A.hasValue()&&M.hasValue()&&(N=A.getPixels("x"),R=M.getPixels("y")),P.setCurrent(N,R),"number"==typeof x&&h.getAttribute("x",!0).setValue(x),"number"==typeof b&&h.getAttribute("y",!0).setValue(b),"number"==typeof f||"number"==typeof d){var _=toNumbers(h.getAttribute("viewBox").getString()),V=0,k=0;if("number"==typeof f){var L=h.getStyle("width");L.hasValue()?V=L.getPixels("x")/f:isNaN(_[2])||(V=_[2]/f)}if("number"==typeof d){var D=h.getStyle("height");D.hasValue()?k=D.getPixels("y")/d:isNaN(_[3])||(k=_[3]/d)}V||(V=k),k||(k=V),h.getAttribute("width",!0).setValue(f),h.getAttribute("height",!0).setValue(d);var B=h.getStyle("transform",!0,!0);B.setValue("".concat(B.getString()," scale(").concat(1/V,", ").concat(1/k,")"))}g||w.clearRect(0,0,N,R),h.render(w),T&&(this.isFirstRender=!1)}};Screen.defaultWindow=G,Screen.defaultFetch=X;var{defaultFetch:Y}=Screen,W="undefined"!=typeof DOMParser?DOMParser:null;let Parser=class Parser{constructor(){var{fetch:h=Y,DOMParser:c=W}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=h,this.DOMParser=c}parse(h){var c=this;return f(function*(){return h.startsWith("<")?c.parseFromString(h):c.load(h)})()}parseFromString(h){var c=new this.DOMParser;try{return this.checkDocument(c.parseFromString(h,"image/svg+xml"))}catch(g){return this.checkDocument(c.parseFromString(h,"text/xml"))}}checkDocument(h){var c=h.getElementsByTagName("parsererror")[0];if(c)throw Error(c.textContent);return h}load(h){var c=this;return f(function*(){var g=yield c.fetch(h),f=yield g.text();return c.parseFromString(f)})()}};let Translate=class Translate{constructor(h,c){this.type="translate",this.point=null,this.point=Point.parse(c)}apply(h){var{x:c,y:g}=this.point;h.translate(c||0,g||0)}unapply(h){var{x:c,y:g}=this.point;h.translate(-1*c||0,-1*g||0)}applyToPoint(h){var{x:c,y:g}=this.point;h.applyTransform([1,0,0,1,c||0,g||0])}};let Rotate=class Rotate{constructor(h,c,g){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var f=toNumbers(c);this.angle=new Property(h,"angle",f[0]),this.originX=g[0],this.originY=g[1],this.cx=f[1]||0,this.cy=f[2]||0}apply(h){var{cx:c,cy:g,originX:f,originY:d,angle:x}=this,b=c+f.getPixels("x"),E=g+d.getPixels("y");h.translate(b,E),h.rotate(x.getRadians()),h.translate(-b,-E)}unapply(h){var{cx:c,cy:g,originX:f,originY:d,angle:x}=this,b=c+f.getPixels("x"),E=g+d.getPixels("y");h.translate(b,E),h.rotate(-1*x.getRadians()),h.translate(-b,-E)}applyToPoint(h){var{cx:c,cy:g,angle:f}=this,d=f.getRadians();h.applyTransform([1,0,0,1,c||0,g||0]),h.applyTransform([Math.cos(d),Math.sin(d),-Math.sin(d),Math.cos(d),0,0]),h.applyTransform([1,0,0,1,-c||0,-g||0])}};let Scale=class Scale{constructor(h,c,g){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var f=Point.parseScale(c);(0===f.x||0===f.y)&&(f.x=z,f.y=z),this.scale=f,this.originX=g[0],this.originY=g[1]}apply(h){var{scale:{x:c,y:g},originX:f,originY:d}=this,x=f.getPixels("x"),b=d.getPixels("y");h.translate(x,b),h.scale(c,g||c),h.translate(-x,-b)}unapply(h){var{scale:{x:c,y:g},originX:f,originY:d}=this,x=f.getPixels("x"),b=d.getPixels("y");h.translate(x,b),h.scale(1/c,1/g||c),h.translate(-x,-b)}applyToPoint(h){var{x:c,y:g}=this.scale;h.applyTransform([c||0,0,0,g||0,0,0])}};let Matrix=class Matrix{constructor(h,c,g){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=toNumbers(c),this.originX=g[0],this.originY=g[1]}apply(h){var{originX:c,originY:g,matrix:f}=this,d=c.getPixels("x"),x=g.getPixels("y");h.translate(d,x),h.transform(f[0],f[1],f[2],f[3],f[4],f[5]),h.translate(-d,-x)}unapply(h){var{originX:c,originY:g,matrix:f}=this,d=f[0],x=f[2],b=f[4],E=f[1],S=f[3],P=f[5],w=1/(d*(1*S-0*P)-x*(1*E-0*P)+b*(0*E-0*S)),T=c.getPixels("x"),C=g.getPixels("y");h.translate(T,C),h.transform(w*(1*S-0*P),w*(0*P-1*E),w*(0*b-1*x),w*(1*d-0*b),w*(x*P-b*S),w*(b*E-d*P)),h.translate(-T,-C)}applyToPoint(h){h.applyTransform(this.matrix)}};let Skew=class Skew extends Matrix{constructor(h,c,g){super(h,c,g),this.type="skew",this.angle=null,this.angle=new Property(h,"angle",c)}};let SkewX=class SkewX extends Skew{constructor(h,c,g){super(h,c,g),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}};let SkewY=class SkewY extends Skew{constructor(h,c,g){super(h,c,g),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}};function parseTransforms(h){return compressSpaces(h).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function parseTransform(h){var[c,g]=h.split("(");return[c.trim(),g.trim().replace(")","")]}let Transform=class Transform{constructor(h,c,g){this.document=h,this.transforms=[],parseTransforms(c).forEach(h=>{if("none"!==h){var[c,f]=parseTransform(h),d=Transform.transformTypes[c];void 0!==d&&this.transforms.push(new d(this.document,f,g))}})}static fromElement(h,c){var g=c.getStyle("transform",!1,!0),[f,d=f]=c.getStyle("transform-origin",!1,!0).split();return g.hasValue()?new Transform(h,g.getString(),[f,d]):null}apply(h){for(var{transforms:c}=this,g=c.length,f=0;f<g;f++)c[f].apply(h)}unapply(h){for(var{transforms:c}=this,g=c.length,f=g-1;f>=0;f--)c[f].unapply(h)}applyToPoint(h){for(var{transforms:c}=this,g=c.length,f=0;f<g;f++)c[f].applyToPoint(h)}};Transform.transformTypes={translate:Translate,rotate:Rotate,scale:Scale,matrix:Matrix,skewX:SkewX,skewY:SkewY};let Element=class Element{constructor(h,c){var g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=h,this.node=c,this.captureTextNodes=g,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!c||1!==c.nodeType)return;Array.from(c.attributes).forEach(c=>{var g=normalizeAttributeName(c.nodeName);this.attributes[g]=new Property(h,g,c.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(h=>h.trim()).forEach(c=>{if(c){var[g,f]=c.split(":").map(h=>h.trim());this.styles[g]=new Property(h,g,f)}});var{definitions:f}=h,d=this.getAttribute("id");d.hasValue()&&!f[d.getString()]&&(f[d.getString()]=this),Array.from(c.childNodes).forEach(c=>{if(1===c.nodeType)this.addChild(c);else if(g&&(3===c.nodeType||4===c.nodeType)){var f=h.createTextNode(c);f.getText().length>0&&this.addChild(f)}})}getAttribute(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=this.attributes[h];if(!g&&c){var f=new Property(this.document,h,"");return this.attributes[h]=f,f}return g||Property.empty(this.document)}getHrefAttribute(){for(var h in this.attributes)if("href"===h||h.endsWith(":href"))return this.attributes[h];return Property.empty(this.document)}getStyle(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.styles[h];if(f)return f;var d=this.getAttribute(h);if(null!=d&&d.hasValue())return this.styles[h]=d,d;if(!g){var{parent:x}=this;if(x){var b=x.getStyle(h);if(null!=b&&b.hasValue())return b}}if(c){var E=new Property(this.document,h,"");return this.styles[h]=E,E}return f||Property.empty(this.document)}render(h){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(h.save(),this.getStyle("mask").hasValue()){var c=this.getStyle("mask").getDefinition();c&&(this.applyEffects(h),c.apply(h,this))}else if("none"!==this.getStyle("filter").getValue("none")){var g=this.getStyle("filter").getDefinition();g&&(this.applyEffects(h),g.apply(h,this))}else this.setContext(h),this.renderChildren(h),this.clearContext(h);h.restore()}}setContext(h){}applyEffects(h){var c=Transform.fromElement(this.document,this);c&&c.apply(h);var g=this.getStyle("clip-path",!1,!0);if(g.hasValue()){var f=g.getDefinition();f&&f.apply(h)}}clearContext(h){}renderChildren(h){this.children.forEach(c=>{c.render(h)})}addChild(h){var c=h instanceof Element?h:this.document.createElement(h);c.parent=this,Element.ignoreChildTypes.includes(c.type)||this.children.push(c)}matchesSelector(h){var c,{node:g}=this;if("function"==typeof g.matches)return g.matches(h);var f=null===(c=g.getAttribute)||void 0===c?void 0:c.call(g,"class");return!!f&&""!==f&&f.split(" ").some(c=>".".concat(c)===h)}addStylesFromStyleDefinition(){var{styles:h,stylesSpecificity:c}=this.document;for(var g in h)if(!g.startsWith("@")&&this.matchesSelector(g)){var f=h[g],d=c[g];if(f)for(var x in f){var b=this.stylesSpecificity[x];void 0===b&&(b="000"),d>=b&&(this.styles[x]=f[x],this.stylesSpecificity[x]=d)}}}removeStyles(h,c){return c.reduce((c,g)=>{var f=h.getStyle(g);if(!f.hasValue())return c;var d=f.getString();return f.setValue(""),[...c,[g,d]]},[])}restoreStyles(h,c){c.forEach(c=>{var[g,f]=c;h.getStyle(g,!0).setValue(f)})}isFirstChild(){var h;return(null===(h=this.parent)||void 0===h?void 0:h.children.indexOf(this))===0}};Element.ignoreChildTypes=["title"];let UnknownElement=class UnknownElement extends Element{constructor(h,c,g){super(h,c,g)}};function wrapFontFamily(h){var c=h.trim();return/^('|")/.test(c)?c:'"'.concat(c,'"')}function prepareFontFamily(h){return"undefined"==typeof process?h:h.trim().split(",").map(wrapFontFamily).join(",")}function prepareFontStyle(h){if(!h)return"";var c=h.trim().toLowerCase();switch(c){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return c;default:if(/^oblique\s+(-|)\d+deg$/.test(c))return c;return""}}function prepareFontWeight(h){if(!h)return"";var c=h.trim().toLowerCase();switch(c){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return c;default:if(/^[\d.]+$/.test(c))return c;return""}}let Font=class Font{constructor(h,c,g,f,d,x){var b=x?"string"==typeof x?Font.parse(x):x:{};this.fontFamily=d||b.fontFamily,this.fontSize=f||b.fontSize,this.fontStyle=h||b.fontStyle,this.fontWeight=g||b.fontWeight,this.fontVariant=c||b.fontVariant}static parse(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1?arguments[1]:void 0,g="",f="",d="",x="",b="",E=compressSpaces(h).trim().split(" "),S={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return E.forEach(h=>{switch(!0){case!S.fontStyle&&Font.styles.includes(h):"inherit"!==h&&(g=h),S.fontStyle=!0;break;case!S.fontVariant&&Font.variants.includes(h):"inherit"!==h&&(f=h),S.fontStyle=!0,S.fontVariant=!0;break;case!S.fontWeight&&Font.weights.includes(h):"inherit"!==h&&(d=h),S.fontStyle=!0,S.fontVariant=!0,S.fontWeight=!0;break;case!S.fontSize:"inherit"!==h&&([x]=h.split("/")),S.fontStyle=!0,S.fontVariant=!0,S.fontWeight=!0,S.fontSize=!0;break;default:"inherit"!==h&&(b+=h)}}),new Font(g,f,d,x,b,c)}toString(){return[prepareFontStyle(this.fontStyle),this.fontVariant,prepareFontWeight(this.fontWeight),this.fontSize,prepareFontFamily(this.fontFamily)].join(" ").trim()}};Font.styles="normal|italic|oblique|inherit",Font.variants="normal|small-caps|inherit",Font.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";let BoundingBox=class BoundingBox{constructor(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=h,this.y1=c,this.x2=g,this.y2=f,this.addPoint(h,c),this.addPoint(g,f)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(h,c){void 0!==h&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=h,this.x2=h),h<this.x1&&(this.x1=h),h>this.x2&&(this.x2=h)),void 0!==c&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=c,this.y2=c),c<this.y1&&(this.y1=c),c>this.y2&&(this.y2=c))}addX(h){this.addPoint(h,null)}addY(h){this.addPoint(null,h)}addBoundingBox(h){if(h){var{x1:c,y1:g,x2:f,y2:d}=h;this.addPoint(c,g),this.addPoint(f,d)}}sumCubic(h,c,g,f,d){return Math.pow(1-h,3)*c+3*Math.pow(1-h,2)*h*g+3*(1-h)*Math.pow(h,2)*f+Math.pow(h,3)*d}bezierCurveAdd(h,c,g,f,d){var x=6*c-12*g+6*f,b=-3*c+9*g-9*f+3*d,E=3*g-3*c;if(0===b){if(0===x)return;var S=-E/x;0<S&&S<1&&(h?this.addX(this.sumCubic(S,c,g,f,d)):this.addY(this.sumCubic(S,c,g,f,d)));return}var P=Math.pow(x,2)-4*E*b;if(!(P<0)){var w=(-x+Math.sqrt(P))/(2*b);0<w&&w<1&&(h?this.addX(this.sumCubic(w,c,g,f,d)):this.addY(this.sumCubic(w,c,g,f,d)));var T=(-x-Math.sqrt(P))/(2*b);0<T&&T<1&&(h?this.addX(this.sumCubic(T,c,g,f,d)):this.addY(this.sumCubic(T,c,g,f,d)))}}addBezierCurve(h,c,g,f,d,x,b,E){this.addPoint(h,c),this.addPoint(b,E),this.bezierCurveAdd(!0,h,g,d,b),this.bezierCurveAdd(!1,c,f,x,E)}addQuadraticCurve(h,c,g,f,d,x){var b=h+2/3*(g-h),E=c+2/3*(f-c),S=b+1/3*(d-h),P=E+1/3*(x-c);this.addBezierCurve(h,c,b,S,E,P,d,x)}isPointInBox(h,c){var{x1:g,y1:f,x2:d,y2:x}=this;return g<=h&&h<=d&&f<=c&&c<=x}};let PathParser=class PathParser extends A{constructor(h){super(h.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Point(0,0),this.control=new Point(0,0),this.current=new Point(0,0),this.points=[],this.angles=[]}isEnd(){var{i:h,commands:c}=this;return h>=c.length-1}next(){var h=this.commands[++this.i];return this.previousCommand=this.command,this.command=h,h}getPoint(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",g=new Point(this.command[h],this.command[c]);return this.makeAbsolute(g)}getAsControlPoint(h,c){var g=this.getPoint(h,c);return this.control=g,g}getAsCurrentPoint(h,c){var g=this.getPoint(h,c);return this.current=g,g}getReflectedControlPoint(){var h=this.previousCommand.type;if(h!==A.CURVE_TO&&h!==A.SMOOTH_CURVE_TO&&h!==A.QUAD_TO&&h!==A.SMOOTH_QUAD_TO)return this.current;var{current:{x:c,y:g},control:{x:f,y:d}}=this;return new Point(2*c-f,2*g-d)}makeAbsolute(h){if(this.command.relative){var{x:c,y:g}=this.current;h.x+=c,h.y+=g}return h}addMarker(h,c,g){var{points:f,angles:d}=this;g&&d.length>0&&!d[d.length-1]&&(d[d.length-1]=f[f.length-1].angleTo(g)),this.addMarkerAngle(h,c?c.angleTo(h):null)}addMarkerAngle(h,c){this.points.push(h),this.angles.push(c)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:h}=this,c=h.length,g=0;g<c;g++)if(!h[g]){for(var f=g+1;f<c;f++)if(h[f]){h[g]=h[f];break}}return h}};let RenderedElement=class RenderedElement extends Element{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var h=1,c=this;c;){var g=c.getStyle("opacity",!1,!0);g.hasValue(!0)&&(h*=g.getNumber()),c=c.parent}return h}setContext(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!c){var g=this.getStyle("fill"),f=this.getStyle("fill-opacity"),d=this.getStyle("stroke"),x=this.getStyle("stroke-opacity");if(g.isUrlDefinition()){var b=g.getFillStyleDefinition(this,f);b&&(h.fillStyle=b)}else if(g.hasValue()){"currentColor"===g.getString()&&g.setValue(this.getStyle("color").getColor());var E=g.getColor();"inherit"!==E&&(h.fillStyle="none"===E?"rgba(0,0,0,0)":E)}if(f.hasValue()){var S=new Property(this.document,"fill",h.fillStyle).addOpacity(f).getColor();h.fillStyle=S}if(d.isUrlDefinition()){var P=d.getFillStyleDefinition(this,x);P&&(h.strokeStyle=P)}else if(d.hasValue()){"currentColor"===d.getString()&&d.setValue(this.getStyle("color").getColor());var w=d.getString();"inherit"!==w&&(h.strokeStyle="none"===w?"rgba(0,0,0,0)":w)}if(x.hasValue()){var T=new Property(this.document,"stroke",h.strokeStyle).addOpacity(x).getString();h.strokeStyle=T}var C=this.getStyle("stroke-width");if(C.hasValue()){var A=C.getPixels();h.lineWidth=A||z}var M=this.getStyle("stroke-linecap"),N=this.getStyle("stroke-linejoin"),R=this.getStyle("stroke-miterlimit"),_=this.getStyle("stroke-dasharray"),V=this.getStyle("stroke-dashoffset");if(M.hasValue()&&(h.lineCap=M.getString()),N.hasValue()&&(h.lineJoin=N.getString()),R.hasValue()&&(h.miterLimit=R.getNumber()),_.hasValue()&&"none"!==_.getString()){var k=toNumbers(_.getString());void 0!==h.setLineDash?h.setLineDash(k):void 0!==h.webkitLineDash?h.webkitLineDash=k:void 0===h.mozDash||1===k.length&&0===k[0]||(h.mozDash=k);var L=V.getPixels();void 0!==h.lineDashOffset?h.lineDashOffset=L:void 0!==h.webkitLineDashOffset?h.webkitLineDashOffset=L:void 0!==h.mozDashOffset&&(h.mozDashOffset=L)}}if(this.modifiedEmSizeStack=!1,void 0!==h.font){var D=this.getStyle("font"),B=this.getStyle("font-style"),j=this.getStyle("font-variant"),U=this.getStyle("font-weight"),G=this.getStyle("font-size"),X=this.getStyle("font-family"),Y=new Font(B.getString(),j.getString(),U.getString(),G.hasValue()?"".concat(G.getPixels(!0),"px"):"",X.getString(),Font.parse(D.getString(),h.font));B.setValue(Y.fontStyle),j.setValue(Y.fontVariant),U.setValue(Y.fontWeight),G.setValue(Y.fontSize),X.setValue(Y.fontFamily),h.font=Y.toString(),G.isPixels()&&(this.document.emSize=G.getPixels(),this.modifiedEmSizeStack=!0)}c||(this.applyEffects(h),h.globalAlpha=this.calculateOpacity())}clearContext(h){super.clearContext(h),this.modifiedEmSizeStack&&this.document.popEmSize()}};let PathElement=class PathElement extends RenderedElement{constructor(h,c,g){super(h,c,g),this.type="path",this.pathParser=null,this.pathParser=new PathParser(this.getAttribute("d").getString())}path(h){var{pathParser:c}=this,g=new BoundingBox;for(c.reset(),h&&h.beginPath();!c.isEnd();)switch(c.next().type){case PathParser.MOVE_TO:this.pathM(h,g);break;case PathParser.LINE_TO:this.pathL(h,g);break;case PathParser.HORIZ_LINE_TO:this.pathH(h,g);break;case PathParser.VERT_LINE_TO:this.pathV(h,g);break;case PathParser.CURVE_TO:this.pathC(h,g);break;case PathParser.SMOOTH_CURVE_TO:this.pathS(h,g);break;case PathParser.QUAD_TO:this.pathQ(h,g);break;case PathParser.SMOOTH_QUAD_TO:this.pathT(h,g);break;case PathParser.ARC:this.pathA(h,g);break;case PathParser.CLOSE_PATH:this.pathZ(h,g)}return g}getBoundingBox(h){return this.path()}getMarkers(){var{pathParser:h}=this,c=h.getMarkerPoints(),g=h.getMarkerAngles();return c.map((h,c)=>[h,g[c]])}renderChildren(h){this.path(h),this.document.screen.mouse.checkPath(this,h);var c=this.getStyle("fill-rule");""!==h.fillStyle&&("inherit"!==c.getString("inherit")?h.fill(c.getString()):h.fill()),""!==h.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(h.save(),h.setTransform(1,0,0,1,0,0),h.stroke(),h.restore()):h.stroke());var g=this.getMarkers();if(g){var f=g.length-1,d=this.getStyle("marker-start"),x=this.getStyle("marker-mid"),b=this.getStyle("marker-end");if(d.isUrlDefinition()){var E=d.getDefinition(),[S,P]=g[0];E.render(h,S,P)}if(x.isUrlDefinition())for(var w=x.getDefinition(),T=1;T<f;T++){var[C,A]=g[T];w.render(h,C,A)}if(b.isUrlDefinition()){var M=b.getDefinition(),[N,R]=g[f];M.render(h,N,R)}}}static pathM(h){var c=h.getAsCurrentPoint();return h.start=h.current,{point:c}}pathM(h,c){var{pathParser:g}=this,{point:f}=PathElement.pathM(g),{x:d,y:x}=f;g.addMarker(f),c.addPoint(d,x),h&&h.moveTo(d,x)}static pathL(h){var{current:c}=h;return{current:c,point:h.getAsCurrentPoint()}}pathL(h,c){var{pathParser:g}=this,{current:f,point:d}=PathElement.pathL(g),{x,y:b}=d;g.addMarker(d,f),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathH(h){var{current:c,command:g}=h,f=new Point((g.relative?c.x:0)+g.x,c.y);return h.current=f,{current:c,point:f}}pathH(h,c){var{pathParser:g}=this,{current:f,point:d}=PathElement.pathH(g),{x,y:b}=d;g.addMarker(d,f),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathV(h){var{current:c,command:g}=h,f=new Point(c.x,(g.relative?c.y:0)+g.y);return h.current=f,{current:c,point:f}}pathV(h,c){var{pathParser:g}=this,{current:f,point:d}=PathElement.pathV(g),{x,y:b}=d;g.addMarker(d,f),c.addPoint(x,b),h&&h.lineTo(x,b)}static pathC(h){var{current:c}=h;return{current:c,point:h.getPoint("x1","y1"),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathC(h,c){var{pathParser:g}=this,{current:f,point:d,controlPoint:x,currentPoint:b}=PathElement.pathC(g);g.addMarker(b,x,d),c.addBezierCurve(f.x,f.y,d.x,d.y,x.x,x.y,b.x,b.y),h&&h.bezierCurveTo(d.x,d.y,x.x,x.y,b.x,b.y)}static pathS(h){var{current:c}=h;return{current:c,point:h.getReflectedControlPoint(),controlPoint:h.getAsControlPoint("x2","y2"),currentPoint:h.getAsCurrentPoint()}}pathS(h,c){var{pathParser:g}=this,{current:f,point:d,controlPoint:x,currentPoint:b}=PathElement.pathS(g);g.addMarker(b,x,d),c.addBezierCurve(f.x,f.y,d.x,d.y,x.x,x.y,b.x,b.y),h&&h.bezierCurveTo(d.x,d.y,x.x,x.y,b.x,b.y)}static pathQ(h){var{current:c}=h;return{current:c,controlPoint:h.getAsControlPoint("x1","y1"),currentPoint:h.getAsCurrentPoint()}}pathQ(h,c){var{pathParser:g}=this,{current:f,controlPoint:d,currentPoint:x}=PathElement.pathQ(g);g.addMarker(x,d,d),c.addQuadraticCurve(f.x,f.y,d.x,d.y,x.x,x.y),h&&h.quadraticCurveTo(d.x,d.y,x.x,x.y)}static pathT(h){var{current:c}=h,g=h.getReflectedControlPoint();return h.control=g,{current:c,controlPoint:g,currentPoint:h.getAsCurrentPoint()}}pathT(h,c){var{pathParser:g}=this,{current:f,controlPoint:d,currentPoint:x}=PathElement.pathT(g);g.addMarker(x,d,d),c.addQuadraticCurve(f.x,f.y,d.x,d.y,x.x,x.y),h&&h.quadraticCurveTo(d.x,d.y,x.x,x.y)}static pathA(h){var{current:c,command:g}=h,{rX:f,rY:d,xRot:x,lArcFlag:b,sweepFlag:E}=g,S=x*(Math.PI/180),P=h.getAsCurrentPoint(),w=new Point(Math.cos(S)*(c.x-P.x)/2+Math.sin(S)*(c.y-P.y)/2,-Math.sin(S)*(c.x-P.x)/2+Math.cos(S)*(c.y-P.y)/2),T=Math.pow(w.x,2)/Math.pow(f,2)+Math.pow(w.y,2)/Math.pow(d,2);T>1&&(f*=Math.sqrt(T),d*=Math.sqrt(T));var C=(b===E?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(d,2)-Math.pow(f,2)*Math.pow(w.y,2)-Math.pow(d,2)*Math.pow(w.x,2))/(Math.pow(f,2)*Math.pow(w.y,2)+Math.pow(d,2)*Math.pow(w.x,2)));isNaN(C)&&(C=0);var A=new Point(C*f*w.y/d,-(C*d)*w.x/f),M=new Point((c.x+P.x)/2+Math.cos(S)*A.x-Math.sin(S)*A.y,(c.y+P.y)/2+Math.sin(S)*A.x+Math.cos(S)*A.y),N=vectorsAngle([1,0],[(w.x-A.x)/f,(w.y-A.y)/d]),R=[(w.x-A.x)/f,(w.y-A.y)/d],_=[(-w.x-A.x)/f,(-w.y-A.y)/d],V=vectorsAngle(R,_);return -1>=vectorsRatio(R,_)&&(V=Math.PI),vectorsRatio(R,_)>=1&&(V=0),{currentPoint:P,rX:f,rY:d,sweepFlag:E,xAxisRotation:S,centp:M,a1:N,ad:V}}pathA(h,c){var{pathParser:g}=this,{currentPoint:f,rX:d,rY:x,sweepFlag:b,xAxisRotation:E,centp:S,a1:P,ad:w}=PathElement.pathA(g),T=1-b?1:-1,C=P+T*(w/2),A=new Point(S.x+d*Math.cos(C),S.y+x*Math.sin(C));if(g.addMarkerAngle(A,C-T*Math.PI/2),g.addMarkerAngle(f,C-T*Math.PI),c.addPoint(f.x,f.y),h&&!isNaN(P)&&!isNaN(w)){var M=d>x?d:x,N=d>x?1:d/x,R=d>x?x/d:1;h.translate(S.x,S.y),h.rotate(E),h.scale(N,R),h.arc(0,0,M,P,P+w,!!(1-b)),h.scale(1/N,1/R),h.rotate(-E),h.translate(-S.x,-S.y)}}static pathZ(h){h.current=h.start}pathZ(h,c){PathElement.pathZ(this.pathParser),h&&c.x1!==c.x2&&c.y1!==c.y2&&h.closePath()}};let GlyphElement=class GlyphElement extends PathElement{constructor(h,c,g){super(h,c,g),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}};let TextElement=class TextElement extends RenderedElement{constructor(h,c,g){super(h,c,new.target===TextElement||g),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(h,c);var g=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();g&&(h.textBaseline=g)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(h){if("text"!==this.type)return this.getTElementBoundingBox(h);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h);var c=null;return this.children.forEach((g,f)=>{var d=this.getChildBoundingBox(h,this,this,f);c?c.addBoundingBox(d):c=d}),c}getFontSize(){var{document:h,parent:c}=this,g=Font.parse(h.ctx.font).fontSize;return c.getStyle("font-size").getNumber(g)}getTElementBoundingBox(h){var c=this.getFontSize();return new BoundingBox(this.x,this.y-c,this.x+this.measureText(h),this.y)}getGlyph(h,c,g){var f=c[g],d=null;if(h.isArabic){var x=c.length,b=c[g-1],E=c[g+1],S="isolated";if((0===g||" "===b)&&g<x-1&&" "!==E&&(S="terminal"),g>0&&" "!==b&&g<x-1&&" "!==E&&(S="medial"),g>0&&" "!==b&&(g===x-1||" "===E)&&(S="initial"),void 0!==h.glyphs[f]){var P=h.glyphs[f];d=P instanceof GlyphElement?P:P[S]}}else d=h.glyphs[f];return d||(d=h.missingGlyph),d}getText(){return""}getTextFromNode(h){var c=h||this.node,g=Array.from(c.parentNode.childNodes),f=g.indexOf(c),d=g.length-1,x=compressSpaces(c.textContent||"");return 0===f&&(x=trimLeft(x)),f===d&&(x=trimRight(x)),x}renderChildren(h){if("text"!==this.type){this.renderTElementChildren(h);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(h),this.children.forEach((c,g)=>{this.renderChild(h,this,this,g)});var{mouse:c}=this.document.screen;c.isWorking()&&c.checkBoundingBox(this,this.getBoundingBox(h))}renderTElementChildren(h){var{document:c,parent:g}=this,f=this.getText(),d=g.getStyle("font-family").getDefinition();if(d){for(var{unitsPerEm:x}=d.fontFace,b=Font.parse(c.ctx.font),E=g.getStyle("font-size").getNumber(b.fontSize),S=g.getStyle("font-style").getString(b.fontStyle),P=E/x,w=d.isRTL?f.split("").reverse().join(""):f,T=toNumbers(g.getAttribute("dx").getString()),C=w.length,A=0;A<C;A++){var M=this.getGlyph(d,w,A);h.translate(this.x,this.y),h.scale(P,-P);var N=h.lineWidth;h.lineWidth=h.lineWidth*x/E,"italic"===S&&h.transform(1,0,.4,1,0,0),M.render(h),"italic"===S&&h.transform(1,0,-.4,1,0,0),h.lineWidth=N,h.scale(1/P,-1/P),h.translate(-this.x,-this.y),this.x+=E*(M.horizAdvX||d.horizAdvX)/x,void 0===T[A]||isNaN(T[A])||(this.x+=T[A])}return}var{x:R,y:_}=this;h.fillStyle&&h.fillText(f,R,_),h.strokeStyle&&h.strokeText(f,R,_)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var h=this.leafTexts[this.textChunkStart],c=h.getStyle("text-anchor").getString("start"),g=0;g="start"===c?h.x-this.minX:"end"===c?h.x-this.maxX:h.x-(this.minX+this.maxX)/2;for(var f=this.textChunkStart;f<this.leafTexts.length;f++)this.leafTexts[f].x+=g;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(h){this.children.forEach((c,g)=>{this.adjustChildCoordinatesRecursiveCore(h,this,this,g)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(h,c,g,f){var d=g.children[f];d.children.length>0?d.children.forEach((g,f)=>{c.adjustChildCoordinatesRecursiveCore(h,c,d,f)}):this.adjustChildCoordinates(h,c,g,f)}adjustChildCoordinates(h,c,g,f){var d=g.children[f];if("function"!=typeof d.measureText)return d;h.save(),d.setContext(h,!0);var x=d.getAttribute("x"),b=d.getAttribute("y"),E=d.getAttribute("dx"),S=d.getAttribute("dy"),P=d.getStyle("font-family").getDefinition(),w=!!P&&P.isRTL;0!==f||(x.hasValue()||x.setValue(d.getInheritedAttribute("x")),b.hasValue()||b.setValue(d.getInheritedAttribute("y")),E.hasValue()||E.setValue(d.getInheritedAttribute("dx")),S.hasValue()||S.setValue(d.getInheritedAttribute("dy")));var T=d.measureText(h);return w&&(c.x-=T),x.hasValue()?(c.applyAnchoring(),d.x=x.getPixels("x"),E.hasValue()&&(d.x+=E.getPixels("x"))):(E.hasValue()&&(c.x+=E.getPixels("x")),d.x=c.x),c.x=d.x,w||(c.x+=T),b.hasValue()?(d.y=b.getPixels("y"),S.hasValue()&&(d.y+=S.getPixels("y"))):(S.hasValue()&&(c.y+=S.getPixels("y")),d.y=c.y),c.y=d.y,c.leafTexts.push(d),c.minX=Math.min(c.minX,d.x,d.x+T),c.maxX=Math.max(c.maxX,d.x,d.x+T),d.clearContext(h),h.restore(),d}getChildBoundingBox(h,c,g,f){var d=g.children[f];if("function"!=typeof d.getBoundingBox)return null;var x=d.getBoundingBox(h);return x?(d.children.forEach((g,f)=>{var b=c.getChildBoundingBox(h,c,d,f);x.addBoundingBox(b)}),x):null}renderChild(h,c,g,f){var d=g.children[f];d.render(h),d.children.forEach((g,f)=>{c.renderChild(h,c,d,f)})}measureText(h){var{measureCache:c}=this;if(~c)return c;var g=this.getText(),f=this.measureTargetText(h,g);return this.measureCache=f,f}measureTargetText(h,c){if(!c.length)return 0;var{parent:g}=this,f=g.getStyle("font-family").getDefinition();if(f){for(var d=this.getFontSize(),x=f.isRTL?c.split("").reverse().join(""):c,b=toNumbers(g.getAttribute("dx").getString()),E=x.length,S=0,P=0;P<E;P++)S+=(this.getGlyph(f,x,P).horizAdvX||f.horizAdvX)*d/f.fontFace.unitsPerEm,void 0===b[P]||isNaN(b[P])||(S+=b[P]);return S}if(!h.measureText)return 10*c.length;h.save(),this.setContext(h,!0);var{width:w}=h.measureText(c);return this.clearContext(h),h.restore(),w}getInheritedAttribute(h){for(var c=this;c instanceof TextElement&&c.isFirstChild();){var g=c.parent.getAttribute(h);if(g.hasValue(!0))return g.getValue("0");c=c.parent}return null}};let TSpanElement=class TSpanElement extends TextElement{constructor(h,c,g){super(h,c,new.target===TSpanElement||g),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}};let TextNode=class TextNode extends TSpanElement{constructor(){super(...arguments),this.type="textNode"}};let SVGElement=class SVGElement extends RenderedElement{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(h){var c,{document:g}=this,{screen:f,window:d}=g,x=h.canvas;if(f.setDefaults(h),x.style&&void 0!==h.font&&d&&void 0!==d.getComputedStyle){h.font=d.getComputedStyle(x).getPropertyValue("font");var b=new Property(g,"fontSize",Font.parse(h.font).fontSize);b.hasValue()&&(g.rootEmSize=b.getPixels("y"),g.emSize=g.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:E,height:S}=f.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var P=this.getAttribute("refX"),w=this.getAttribute("refY"),T=this.getAttribute("viewBox"),C=T.hasValue()?toNumbers(T.getString()):null,A=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),M=0,N=0,R=0,_=0;C&&(M=C[0],N=C[1]),this.root||(E=this.getStyle("width").getPixels("x"),S=this.getStyle("height").getPixels("y"),"marker"!==this.type||(R=M,_=N,M=0,N=0)),f.viewPort.setCurrent(E,S),this.node&&(!this.parent||(null===(c=this.node.parentNode)||void 0===c?void 0:c.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(h),h.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),C&&(E=C[2],S=C[3]),g.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:f.viewPort.width,desiredWidth:E,height:f.viewPort.height,desiredHeight:S,minX:M,minY:N,refX:P.getValue(),refY:w.getValue(),clip:A,clipX:R,clipY:_}),C&&(f.viewPort.removeCurrent(),f.viewPort.setCurrent(E,S))}clearContext(h){super.clearContext(h),this.document.screen.viewPort.removeCurrent()}resize(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=this.getAttribute("width",!0),d=this.getAttribute("height",!0),x=this.getAttribute("viewBox"),b=this.getAttribute("style"),E=f.getNumber(0),S=d.getNumber(0);if(g){if("string"==typeof g)this.getAttribute("preserveAspectRatio",!0).setValue(g);else{var P=this.getAttribute("preserveAspectRatio");P.hasValue()&&P.setValue(P.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}if(f.setValue(h),d.setValue(c),x.hasValue()||x.setValue("0 0 ".concat(E||h," ").concat(S||c)),b.hasValue()){var w=this.getStyle("width"),T=this.getStyle("height");w.hasValue()&&w.setValue("".concat(h,"px")),T.hasValue()&&T.setValue("".concat(c,"px"))}}};let RectElement=class RectElement extends PathElement{constructor(){super(...arguments),this.type="rect"}path(h){var c=this.getAttribute("x").getPixels("x"),g=this.getAttribute("y").getPixels("y"),f=this.getStyle("width",!1,!0).getPixels("x"),d=this.getStyle("height",!1,!0).getPixels("y"),x=this.getAttribute("rx"),b=this.getAttribute("ry"),E=x.getPixels("x"),S=b.getPixels("y");if(x.hasValue()&&!b.hasValue()&&(S=E),b.hasValue()&&!x.hasValue()&&(E=S),E=Math.min(E,f/2),S=Math.min(S,d/2),h){var P=4*((Math.sqrt(2)-1)/3);h.beginPath(),d>0&&f>0&&(h.moveTo(c+E,g),h.lineTo(c+f-E,g),h.bezierCurveTo(c+f-E+P*E,g,c+f,g+S-P*S,c+f,g+S),h.lineTo(c+f,g+d-S),h.bezierCurveTo(c+f,g+d-S+P*S,c+f-E+P*E,g+d,c+f-E,g+d),h.lineTo(c+E,g+d),h.bezierCurveTo(c+E-P*E,g+d,c,g+d-S+P*S,c,g+d-S),h.lineTo(c,g+S),h.bezierCurveTo(c,g+S-P*S,c+E-P*E,g,c+E,g),h.closePath())}return new BoundingBox(c,g,c+f,g+d)}getMarkers(){return null}};let CircleElement=class CircleElement extends PathElement{constructor(){super(...arguments),this.type="circle"}path(h){var c=this.getAttribute("cx").getPixels("x"),g=this.getAttribute("cy").getPixels("y"),f=this.getAttribute("r").getPixels();return h&&f>0&&(h.beginPath(),h.arc(c,g,f,0,2*Math.PI,!1),h.closePath()),new BoundingBox(c-f,g-f,c+f,g+f)}getMarkers(){return null}};let EllipseElement=class EllipseElement extends PathElement{constructor(){super(...arguments),this.type="ellipse"}path(h){var c=4*((Math.sqrt(2)-1)/3),g=this.getAttribute("rx").getPixels("x"),f=this.getAttribute("ry").getPixels("y"),d=this.getAttribute("cx").getPixels("x"),x=this.getAttribute("cy").getPixels("y");return h&&g>0&&f>0&&(h.beginPath(),h.moveTo(d+g,x),h.bezierCurveTo(d+g,x+c*f,d+c*g,x+f,d,x+f),h.bezierCurveTo(d-c*g,x+f,d-g,x+c*f,d-g,x),h.bezierCurveTo(d-g,x-c*f,d-c*g,x-f,d,x-f),h.bezierCurveTo(d+c*g,x-f,d+g,x-c*f,d+g,x),h.closePath()),new BoundingBox(d-g,x-f,d+g,x+f)}getMarkers(){return null}};let LineElement=class LineElement extends PathElement{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Point(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Point(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(h){var[{x:c,y:g},{x:f,y:d}]=this.getPoints();return h&&(h.beginPath(),h.moveTo(c,g),h.lineTo(f,d)),new BoundingBox(c,g,f,d)}getMarkers(){var[h,c]=this.getPoints(),g=h.angleTo(c);return[[h,g],[c,g]]}};let PolylineElement=class PolylineElement extends PathElement{constructor(h,c,g){super(h,c,g),this.type="polyline",this.points=[],this.points=Point.parsePath(this.getAttribute("points").getString())}path(h){var{points:c}=this,[{x:g,y:f}]=c,d=new BoundingBox(g,f);return h&&(h.beginPath(),h.moveTo(g,f)),c.forEach(c=>{var{x:g,y:f}=c;d.addPoint(g,f),h&&h.lineTo(g,f)}),d}getMarkers(){var{points:h}=this,c=h.length-1,g=[];return h.forEach((f,d)=>{d!==c&&g.push([f,f.angleTo(h[d+1])])}),g.length>0&&g.push([h[h.length-1],g[g.length-1][1]]),g}};let PolygonElement=class PolygonElement extends PolylineElement{constructor(){super(...arguments),this.type="polygon"}path(h){var c=super.path(h),[{x:g,y:f}]=this.points;return h&&(h.lineTo(g,f),h.closePath()),c}};let PatternElement=class PatternElement extends Element{constructor(){super(...arguments),this.type="pattern"}createPattern(h,c,g){var f=this.getStyle("width").getPixels("x",!0),d=this.getStyle("height").getPixels("y",!0),x=new SVGElement(this.document,null);x.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),x.attributes.width=new Property(this.document,"width","".concat(f,"px")),x.attributes.height=new Property(this.document,"height","".concat(d,"px")),x.attributes.transform=new Property(this.document,"transform",this.getAttribute("patternTransform").getValue()),x.children=this.children;var b=this.document.createCanvas(f,d),E=b.getContext("2d"),S=this.getAttribute("x"),P=this.getAttribute("y");S.hasValue()&&P.hasValue()&&E.translate(S.getPixels("x",!0),P.getPixels("y",!0)),g.hasValue()?this.styles["fill-opacity"]=g:Reflect.deleteProperty(this.styles,"fill-opacity");for(var w=-1;w<=1;w++)for(var T=-1;T<=1;T++)E.save(),x.attributes.x=new Property(this.document,"x",w*b.width),x.attributes.y=new Property(this.document,"y",T*b.height),x.render(E),E.restore();return h.createPattern(b,"repeat")}};let MarkerElement=class MarkerElement extends Element{constructor(){super(...arguments),this.type="marker"}render(h,c,g){if(c){var{x:f,y:d}=c,x=this.getAttribute("orient").getString("auto"),b=this.getAttribute("markerUnits").getString("strokeWidth");h.translate(f,d),"auto"===x&&h.rotate(g),"strokeWidth"===b&&h.scale(h.lineWidth,h.lineWidth),h.save();var E=new SVGElement(this.document,null);E.type=this.type,E.attributes.viewBox=new Property(this.document,"viewBox",this.getAttribute("viewBox").getValue()),E.attributes.refX=new Property(this.document,"refX",this.getAttribute("refX").getValue()),E.attributes.refY=new Property(this.document,"refY",this.getAttribute("refY").getValue()),E.attributes.width=new Property(this.document,"width",this.getAttribute("markerWidth").getValue()),E.attributes.height=new Property(this.document,"height",this.getAttribute("markerHeight").getValue()),E.attributes.overflow=new Property(this.document,"overflow",this.getAttribute("overflow").getValue()),E.attributes.fill=new Property(this.document,"fill",this.getAttribute("fill").getColor("black")),E.attributes.stroke=new Property(this.document,"stroke",this.getAttribute("stroke").getValue("none")),E.children=this.children,E.render(h),h.restore(),"strokeWidth"===b&&h.scale(1/h.lineWidth,1/h.lineWidth),"auto"===x&&h.rotate(-g),h.translate(-f,-d)}}};let DefsElement=class DefsElement extends Element{constructor(){super(...arguments),this.type="defs"}render(){}};let GElement=class GElement extends RenderedElement{constructor(){super(...arguments),this.type="g"}getBoundingBox(h){var c=new BoundingBox;return this.children.forEach(g=>{c.addBoundingBox(g.getBoundingBox(h))}),c}};let GradientElement=class GradientElement extends Element{constructor(h,c,g){super(h,c,g),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:f,children:d}=this;d.forEach(h=>{"stop"===h.type&&f.push(h)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(h,c,g){var f=this;this.getHrefAttribute().hasValue()&&(f=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(f));var{stops:d}=f,x=this.getGradient(h,c);if(!x)return this.addParentOpacity(g,d[d.length-1].color);if(d.forEach(h=>{x.addColorStop(h.offset,this.addParentOpacity(g,h.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:b}=this,{MAX_VIRTUAL_PIXELS:E,viewPort:S}=b.screen,[P]=S.viewPorts,w=new RectElement(b,null);w.attributes.x=new Property(b,"x",-E/3),w.attributes.y=new Property(b,"y",-E/3),w.attributes.width=new Property(b,"width",E),w.attributes.height=new Property(b,"height",E);var T=new GElement(b,null);T.attributes.transform=new Property(b,"transform",this.getAttribute("gradientTransform").getValue()),T.children=[w];var C=new SVGElement(b,null);C.attributes.x=new Property(b,"x",0),C.attributes.y=new Property(b,"y",0),C.attributes.width=new Property(b,"width",P.width),C.attributes.height=new Property(b,"height",P.height),C.children=[T];var A=b.createCanvas(P.width,P.height),M=A.getContext("2d");return M.fillStyle=x,C.render(M),M.createPattern(A,"no-repeat")}return x}inheritStopContainer(h){this.attributesToInherit.forEach(c=>{!this.getAttribute(c).hasValue()&&h.getAttribute(c).hasValue()&&this.getAttribute(c,!0).setValue(h.getAttribute(c).getValue())})}addParentOpacity(h,c){return h.hasValue()?new Property(this.document,"color",c).addOpacity(h).getColor():c}};let LinearGradientElement=class LinearGradientElement extends GradientElement{constructor(h,c,g){super(h,c,g),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(h,c){var g="objectBoundingBox"===this.getGradientUnits(),f=g?c.getBoundingBox(h):null;if(g&&!f)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var d=g?f.x+f.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),x=g?f.y+f.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),b=g?f.x+f.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),E=g?f.y+f.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return d===b&&x===E?null:h.createLinearGradient(d,x,b,E)}};let RadialGradientElement=class RadialGradientElement extends GradientElement{constructor(h,c,g){super(h,c,g),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(h,c){var g="objectBoundingBox"===this.getGradientUnits(),f=c.getBoundingBox(h);if(g&&!f)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var d=g?f.x+f.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),x=g?f.y+f.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),b=d,E=x;this.getAttribute("fx").hasValue()&&(b=g?f.x+f.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(E=g?f.y+f.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var S=g?(f.width+f.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),P=this.getAttribute("fr").getPixels();return h.createRadialGradient(b,E,P,d,x,S)}};let StopElement=class StopElement extends Element{constructor(h,c,g){super(h,c,g),this.type="stop";var f=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),d=this.getStyle("stop-opacity"),x=this.getStyle("stop-color",!0);""===x.getString()&&x.setValue("#000"),d.hasValue()&&(x=x.addOpacity(d)),this.offset=f,this.color=x.getColor()}};let AnimateElement=class AnimateElement extends Element{constructor(h,c,g){super(h,c,g),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,h.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Property(h,"values",null);var f=this.getAttribute("values");f.hasValue()&&this.values.setValue(f.getString().split(";"))}getProperty(){var h=this.getAttribute("attributeType").getString(),c=this.getAttribute("attributeName").getString();return"CSS"===h?this.parent.getStyle(c,!0):this.parent.getAttribute(c,!0)}calcValue(){var{initialUnits:h}=this,{progress:c,from:g,to:f}=this.getProgress(),d=g.getNumber()+(f.getNumber()-g.getNumber())*c;return"%"===h&&(d*=100),"".concat(d).concat(h)}update(h){var{parent:c}=this,g=this.getProperty();if(this.initialValue||(this.initialValue=g.getString(),this.initialUnits=g.getUnits()),this.duration>this.maxDuration){var f=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==f||this.frozen){if("remove"===f&&!this.removed)return this.removed=!0,g.setValue(c.animationFrozen?c.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,c.animationFrozen=!0,c.animationFrozenValue=g.getString();return!1}this.duration+=h;var d=!1;if(this.begin<this.duration){var x=this.calcValue(),b=this.getAttribute("type");if(b.hasValue()){var E=b.getString();x="".concat(E,"(").concat(x,")")}g.setValue(x),d=!0}return d}getProgress(){var{document:h,values:c}=this,g={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(c.hasValue()){var f=g.progress*(c.getValue().length-1),d=Math.floor(f),x=Math.ceil(f);g.from=new Property(h,"from",parseFloat(c.getValue()[d])),g.to=new Property(h,"to",parseFloat(c.getValue()[x])),g.progress=(f-d)/(x-d)}else g.from=this.from,g.to=this.to;return g}};let AnimateColorElement=class AnimateColorElement extends AnimateElement{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:h,from:c,to:g}=this.getProgress(),f=new b(c.getColor()),d=new b(g.getColor());if(f.ok&&d.ok){var x=f.r+(d.r-f.r)*h,E=f.g+(d.g-f.g)*h,S=f.b+(d.b-f.b)*h;return"rgb(".concat(Math.floor(x),", ").concat(Math.floor(E),", ").concat(Math.floor(S),")")}return this.getAttribute("from").getColor()}};let AnimateTransformElement=class AnimateTransformElement extends AnimateElement{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:h,from:c,to:g}=this.getProgress(),f=toNumbers(c.getString()),d=toNumbers(g.getString());return f.map((c,g)=>c+(d[g]-c)*h).join(" ")}};let FontElement=class FontElement extends Element{constructor(h,c,g){super(h,c,g),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:f}=h,{children:d}=this;for(var x of d)switch(x.type){case"font-face":this.fontFace=x;var b=x.getStyle("font-family");b.hasValue()&&(f[b.getString()]=this);break;case"missing-glyph":this.missingGlyph=x;break;case"glyph":x.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[x.unicode]&&(this.glyphs[x.unicode]=Object.create(null)),this.glyphs[x.unicode][x.arabicForm]=x):this.glyphs[x.unicode]=x}}render(){}};let FontFaceElement=class FontFaceElement extends Element{constructor(h,c,g){super(h,c,g),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}};let MissingGlyphElement=class MissingGlyphElement extends PathElement{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}};let TRefElement=class TRefElement extends TextElement{constructor(){super(...arguments),this.type="tref"}getText(){var h=this.getHrefAttribute().getDefinition();if(h){var c=h.children[0];if(c)return c.getText()}return""}};let AElement=class AElement extends TextElement{constructor(h,c,g){super(h,c,g),this.type="a";var{childNodes:f}=c,d=f[0],x=f.length>0&&Array.from(f).every(h=>3===h.nodeType);this.hasText=x,this.text=x?this.getTextFromNode(d):""}getText(){return this.text}renderChildren(h){if(this.hasText){super.renderChildren(h);var{document:c,x:g,y:f}=this,{mouse:d}=c.screen,x=new Property(c,"fontSize",Font.parse(c.ctx.font).fontSize);d.isWorking()&&d.checkBoundingBox(this,new BoundingBox(g,f-x.getPixels("y"),g+this.measureText(h),f))}else if(this.children.length>0){var b=new GElement(this.document,null);b.children=this.children,b.parent=this,b.render(h)}}onClick(){var{window:h}=this.document;h&&h.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}};function ownKeys$2(h,c){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);c&&(f=f.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),g.push.apply(g,f)}return g}function _objectSpread$2(h){for(var c=1;c<arguments.length;c++){var g=null!=arguments[c]?arguments[c]:{};c%2?ownKeys$2(Object(g),!0).forEach(function(c){d(h,c,g[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):ownKeys$2(Object(g)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(g,c))})}return h}let TextPathElement=class TextPathElement extends TextElement{constructor(h,c,g){super(h,c,g),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var f=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(f)}getText(){return this.text}path(h){var{dataArray:c}=this;h&&h.beginPath(),c.forEach(c=>{var{type:g,points:f}=c;switch(g){case PathParser.LINE_TO:h&&h.lineTo(f[0],f[1]);break;case PathParser.MOVE_TO:h&&h.moveTo(f[0],f[1]);break;case PathParser.CURVE_TO:h&&h.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5]);break;case PathParser.QUAD_TO:h&&h.quadraticCurveTo(f[0],f[1],f[2],f[3]);break;case PathParser.ARC:var[d,x,b,E,S,P,w,T]=f,C=b>E?1:b/E,A=b>E?E/b:1;h&&(h.translate(d,x),h.rotate(w),h.scale(C,A),h.arc(0,0,b>E?b:E,S,S+P,!!(1-T)),h.scale(1/C,1/A),h.rotate(-w),h.translate(-d,-x));break;case PathParser.CLOSE_PATH:h&&h.closePath()}})}renderChildren(h){this.setTextData(h),h.save();var c=this.parent.getStyle("text-decoration").getString(),g=this.getFontSize(),{glyphInfo:f}=this,d=h.fillStyle;"underline"===c&&h.beginPath(),f.forEach((f,d)=>{var{p0:x,p1:b,rotation:E,text:S}=f;h.save(),h.translate(x.x,x.y),h.rotate(E),h.fillStyle&&h.fillText(S,0,0),h.strokeStyle&&h.strokeText(S,0,0),h.restore(),"underline"===c&&(0===d&&h.moveTo(x.x,x.y+g/8),h.lineTo(b.x,b.y+g/5))}),"underline"===c&&(h.lineWidth=g/20,h.strokeStyle=d,h.stroke(),h.closePath()),h.restore()}getLetterSpacingAt(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[h]||0}findSegmentToFitChar(h,c,g,f,d,x,b,E,S){var P=x,w=this.measureText(h,E);" "===E&&"justify"===c&&g<f&&(w+=(f-g)/d),S>-1&&(P+=this.getLetterSpacingAt(S));var T=this.textHeight/20,C=this.getEquidistantPointOnPath(P,T,0),A=this.getEquidistantPointOnPath(P+w,T,0),M={p0:C,p1:A},N=C&&A?Math.atan2(A.y-C.y,A.x-C.x):0;if(b){var R=Math.cos(Math.PI/2+N)*b,_=Math.cos(-N)*b;M.p0=_objectSpread$2(_objectSpread$2({},C),{},{x:C.x+R,y:C.y+_}),M.p1=_objectSpread$2(_objectSpread$2({},A),{},{x:A.x+R,y:A.y+_})}return{offset:P+=w,segment:M,rotation:N}}measureText(h,c){var{measuresCache:g}=this,f=c||this.getText();if(g.has(f))return g.get(f);var d=this.measureTargetText(h,f);return g.set(f,d),d}setTextData(h){if(!this.glyphInfo){var c=this.getText(),g=c.split(""),f=c.split(" ").length-1,d=this.parent.getAttribute("dx").split().map(h=>h.getPixels("x")),x=this.parent.getAttribute("dy").getPixels("y"),b=this.parent.getStyle("text-anchor").getString("start"),E=this.getStyle("letter-spacing"),S=this.parent.getStyle("letter-spacing"),P=0;E.hasValue()&&"inherit"!==E.getValue()?E.hasValue()&&"initial"!==E.getValue()&&"unset"!==E.getValue()&&(P=E.getPixels()):P=S.getPixels();var w=[],T=c.length;this.letterSpacingCache=w;for(var C=0;C<T;C++)w.push(void 0!==d[C]?d[C]:P);var A=w.reduce((h,c,g)=>0===g?0:h+c||0,0),M=this.measureText(h),N=Math.max(M+A,0);this.textWidth=M,this.textHeight=this.getFontSize(),this.glyphInfo=[];var R=this.getPathLength(),_=this.getStyle("startOffset").getNumber(0)*R,V=0;("middle"===b||"center"===b)&&(V=-N/2),("end"===b||"right"===b)&&(V=-N),V+=_,g.forEach((c,d)=>{var{offset:E,segment:S,rotation:P}=this.findSegmentToFitChar(h,b,N,R,f,V,x,c,d);V=E,S.p0&&S.p1&&this.glyphInfo.push({text:g[d],p0:S.p0,p1:S.p1,rotation:P})})}}parsePathData(h){if(this.pathLength=-1,!h)return[];var c=[],{pathParser:g}=h;for(g.reset();!g.isEnd();){var{current:f}=g,d=f?f.x:0,x=f?f.y:0,b=g.next(),E=b.type,S=[];switch(b.type){case PathParser.MOVE_TO:this.pathM(g,S);break;case PathParser.LINE_TO:E=this.pathL(g,S);break;case PathParser.HORIZ_LINE_TO:E=this.pathH(g,S);break;case PathParser.VERT_LINE_TO:E=this.pathV(g,S);break;case PathParser.CURVE_TO:this.pathC(g,S);break;case PathParser.SMOOTH_CURVE_TO:E=this.pathS(g,S);break;case PathParser.QUAD_TO:this.pathQ(g,S);break;case PathParser.SMOOTH_QUAD_TO:E=this.pathT(g,S);break;case PathParser.ARC:S=this.pathA(g);break;case PathParser.CLOSE_PATH:PathElement.pathZ(g)}b.type!==PathParser.CLOSE_PATH?c.push({type:E,points:S,start:{x:d,y:x},pathLength:this.calcLength(d,x,E,S)}):c.push({type:PathParser.CLOSE_PATH,points:[],pathLength:0})}return c}pathM(h,c){var{x:g,y:f}=PathElement.pathM(h).point;c.push(g,f)}pathL(h,c){var{x:g,y:f}=PathElement.pathL(h).point;return c.push(g,f),PathParser.LINE_TO}pathH(h,c){var{x:g,y:f}=PathElement.pathH(h).point;return c.push(g,f),PathParser.LINE_TO}pathV(h,c){var{x:g,y:f}=PathElement.pathV(h).point;return c.push(g,f),PathParser.LINE_TO}pathC(h,c){var{point:g,controlPoint:f,currentPoint:d}=PathElement.pathC(h);c.push(g.x,g.y,f.x,f.y,d.x,d.y)}pathS(h,c){var{point:g,controlPoint:f,currentPoint:d}=PathElement.pathS(h);return c.push(g.x,g.y,f.x,f.y,d.x,d.y),PathParser.CURVE_TO}pathQ(h,c){var{controlPoint:g,currentPoint:f}=PathElement.pathQ(h);c.push(g.x,g.y,f.x,f.y)}pathT(h,c){var{controlPoint:g,currentPoint:f}=PathElement.pathT(h);return c.push(g.x,g.y,f.x,f.y),PathParser.QUAD_TO}pathA(h){var{rX:c,rY:g,sweepFlag:f,xAxisRotation:d,centp:x,a1:b,ad:E}=PathElement.pathA(h);return 0===f&&E>0&&(E-=2*Math.PI),1===f&&E<0&&(E+=2*Math.PI),[x.x,x.y,c,g,b,E,d,f]}calcLength(h,c,g,f){var d=0,x=null,b=null,E=0;switch(g){case PathParser.LINE_TO:return this.getLineLength(h,c,f[0],f[1]);case PathParser.CURVE_TO:for(E=.01,d=0,x=this.getPointOnCubicBezier(0,h,c,f[0],f[1],f[2],f[3],f[4],f[5]);E<=1;E+=.01)b=this.getPointOnCubicBezier(E,h,c,f[0],f[1],f[2],f[3],f[4],f[5]),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return d;case PathParser.QUAD_TO:for(E=.01,d=0,x=this.getPointOnQuadraticBezier(0,h,c,f[0],f[1],f[2],f[3]);E<=1;E+=.01)b=this.getPointOnQuadraticBezier(E,h,c,f[0],f[1],f[2],f[3]),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return d;case PathParser.ARC:d=0;var S=f[4],P=f[5],w=f[4]+P,T=Math.PI/180;if(Math.abs(S-w)<T&&(T=Math.abs(S-w)),x=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],S,0),P<0)for(E=S-T;E>w;E-=T)b=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],E,0),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;else for(E=S+T;E<w;E+=T)b=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],E,0),d+=this.getLineLength(x.x,x.y,b.x,b.y),x=b;return b=this.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],w,0),d+=this.getLineLength(x.x,x.y,b.x,b.y)}return 0}getPointOnLine(h,c,g,f,d){var x=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c,b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:g,E=(d-g)/(f-c+z),S=Math.sqrt(h*h/(1+E*E));f<c&&(S*=-1);var P=E*S,w=null;if(f===c)w={x:x,y:b+P};else if((b-g)/(x-c+z)===E)w={x:x+S,y:b+P};else{var T=0,C=0,A=this.getLineLength(c,g,f,d);if(A<z)return null;var M=(x-c)*(f-c)+(b-g)*(d-g);M/=A*A,T=c+M*(f-c),C=g+M*(d-g);var N=this.getLineLength(x,b,T,C),R=Math.sqrt(h*h-N*N);S=Math.sqrt(R*R/(1+E*E)),f<c&&(S*=-1),P=E*S,w={x:T+S,y:C+P}}return w}getPointOnPath(h){var c=this.getPathLength(),g=0,f=null;if(h<-.00005||h-5e-5>c)return null;var{dataArray:d}=this;for(var x of d){if(x&&(x.pathLength<5e-5||g+x.pathLength+5e-5<h)){g+=x.pathLength;continue}var b=h-g,E=0;switch(x.type){case PathParser.LINE_TO:f=this.getPointOnLine(b,x.start.x,x.start.y,x.points[0],x.points[1],x.start.x,x.start.y);break;case PathParser.ARC:var S=x.points[4],P=x.points[5],w=x.points[4]+P;if(E=S+b/x.pathLength*P,P<0&&E<w||P>=0&&E>w)break;f=this.getPointOnEllipticalArc(x.points[0],x.points[1],x.points[2],x.points[3],E,x.points[6]);break;case PathParser.CURVE_TO:(E=b/x.pathLength)>1&&(E=1),f=this.getPointOnCubicBezier(E,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3],x.points[4],x.points[5]);break;case PathParser.QUAD_TO:(E=b/x.pathLength)>1&&(E=1),f=this.getPointOnQuadraticBezier(E,x.start.x,x.start.y,x.points[0],x.points[1],x.points[2],x.points[3])}if(f)return f;break}return null}getLineLength(h,c,g,f){return Math.sqrt((g-h)*(g-h)+(f-c)*(f-c))}getPathLength(){return -1===this.pathLength&&(this.pathLength=this.dataArray.reduce((h,c)=>c.pathLength>0?h+c.pathLength:h,0)),this.pathLength}getPointOnCubicBezier(h,c,g,f,d,x,b,E,S){return{x:E*CB1(h)+x*CB2(h)+f*CB3(h)+c*CB4(h),y:S*CB1(h)+b*CB2(h)+d*CB3(h)+g*CB4(h)}}getPointOnQuadraticBezier(h,c,g,f,d,x,b){return{x:x*(h*h)+f*QB2(h)+c*QB3(h),y:b*(h*h)+d*QB2(h)+g*QB3(h)}}getPointOnEllipticalArc(h,c,g,f,d,x){var b=Math.cos(x),E=Math.sin(x),S={x:g*Math.cos(d),y:f*Math.sin(d)};return{x:h+(S.x*b-S.y*E),y:c+(S.x*E+S.y*b)}}buildEquidistantCache(h,c){var g=this.getPathLength(),f=c||.25,d=h||g/100;if(!this.equidistantCache||this.equidistantCache.step!==d||this.equidistantCache.precision!==f){this.equidistantCache={step:d,precision:f,points:[]};for(var x=0,b=0;b<=g;b+=f){var E=this.getPointOnPath(b),S=this.getPointOnPath(b+f);E&&S&&(x+=this.getLineLength(E.x,E.y,S.x,S.y))>=d&&(this.equidistantCache.points.push({x:E.x,y:E.y,distance:b}),x-=d)}}}getEquidistantPointOnPath(h,c,g){if(this.buildEquidistantCache(c,g),h<0||h-this.getPathLength()>5e-5)return null;var f=Math.round(h/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[f]||null}};var Q=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;let ImageElement=class ImageElement extends RenderedElement{constructor(h,c,g){super(h,c,g),this.type="image",this.loaded=!1;var f=this.getHrefAttribute().getString();if(!f)return;var d=f.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(f);h.images.push(this),d?this.loadSvg(f):this.loadImage(f),this.isSvg=d}loadImage(h){var c=this;return f(function*(){try{var g=yield c.document.createImage(h);c.image=g}catch(c){console.error('Error while loading image "'.concat(h,'":'),c)}c.loaded=!0})()}loadSvg(h){var c=this;return f(function*(){var g=Q.exec(h);if(g){var f=g[5];"base64"===g[4]?c.image=atob(f):c.image=decodeURIComponent(f)}else try{var d=yield c.document.fetch(h),x=yield d.text();c.image=x}catch(c){console.error('Error while loading image "'.concat(h,'":'),c)}c.loaded=!0})()}renderChildren(h){var{document:c,image:g,loaded:f}=this,d=this.getAttribute("x").getPixels("x"),x=this.getAttribute("y").getPixels("y"),b=this.getStyle("width").getPixels("x"),E=this.getStyle("height").getPixels("y");if(f&&g&&b&&E){if(h.save(),h.translate(d,x),this.isSvg){var S=c.canvg.forkString(h,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:b,scaleHeight:E});S.document.documentElement.parent=this,S.render()}else{var P=this.image;c.setViewBox({ctx:h,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:b,desiredWidth:P.width,height:E,desiredHeight:P.height}),this.loaded&&(void 0===P.complete||P.complete)&&h.drawImage(P,0,0)}h.restore()}}getBoundingBox(){var h=this.getAttribute("x").getPixels("x"),c=this.getAttribute("y").getPixels("y");return new BoundingBox(h,c,h+this.getStyle("width").getPixels("x"),c+this.getStyle("height").getPixels("y"))}};let SymbolElement=class SymbolElement extends RenderedElement{constructor(){super(...arguments),this.type="symbol"}render(h){}};let SVGFontLoader=class SVGFontLoader{constructor(h){this.document=h,this.loaded=!1,h.fonts.push(this)}load(h,c){var g=this;return f(function*(){try{var{document:f}=g,d=(yield f.canvg.parser.load(c)).getElementsByTagName("font");Array.from(d).forEach(c=>{var g=f.createElement(c);f.definitions[h]=g})}catch(h){console.error('Error while loading font "'.concat(c,'":'),h)}g.loaded=!0})()}};let StyleElement=class StyleElement extends Element{constructor(h,c,g){super(h,c,g),this.type="style",compressSpaces(Array.from(c.childNodes).map(h=>h.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(c=>{var g=c.trim();if(g){var f=g.split("{"),d=f[0].split(","),x=f[1].split(";");d.forEach(c=>{var g=c.trim();if(g){var f=h.styles[g]||{};if(x.forEach(c=>{var g=c.indexOf(":"),d=c.substr(0,g).trim(),x=c.substr(g+1,c.length-g).trim();d&&x&&(f[d]=new Property(h,d,x))}),h.styles[g]=f,h.stylesSpecificity[g]=getSelectorSpecificity(g),"@font-face"===g){var d=f["font-family"].getString().replace(/"|'/g,"");f.src.getString().split(",").forEach(c=>{if(c.indexOf('format("svg")')>0){var g=parseExternalUrl(c);g&&new SVGFontLoader(h).load(d,g)}})}}})}})}};StyleElement.parseExternalUrl=parseExternalUrl;let UseElement=class UseElement extends RenderedElement{constructor(){super(...arguments),this.type="use"}setContext(h){super.setContext(h);var c=this.getAttribute("x"),g=this.getAttribute("y");c.hasValue()&&h.translate(c.getPixels("x"),0),g.hasValue()&&h.translate(0,g.getPixels("y"))}path(h){var{element:c}=this;c&&c.path(h)}renderChildren(h){var{document:c,element:g}=this;if(g){var f=g;if("symbol"===g.type&&((f=new SVGElement(c,null)).attributes.viewBox=new Property(c,"viewBox",g.getAttribute("viewBox").getString()),f.attributes.preserveAspectRatio=new Property(c,"preserveAspectRatio",g.getAttribute("preserveAspectRatio").getString()),f.attributes.overflow=new Property(c,"overflow",g.getAttribute("overflow").getString()),f.children=g.children,g.styles.opacity=new Property(c,"opacity",this.calculateOpacity())),"svg"===f.type){var d=this.getStyle("width",!1,!0),x=this.getStyle("height",!1,!0);d.hasValue()&&(f.attributes.width=new Property(c,"width",d.getString())),x.hasValue()&&(f.attributes.height=new Property(c,"height",x.getString()))}var b=f.parent;f.parent=this,f.render(h),f.parent=b}}getBoundingBox(h){var{element:c}=this;return c?c.getBoundingBox(h):null}elementTransform(){var{document:h,element:c}=this;return Transform.fromElement(h,c)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}};function index_es_c(h,c,g,f){return c+Math.cos(h)*g+Math.sin(h)*f}let FeColorMatrixElement=class FeColorMatrixElement extends Element{constructor(h,c,g){super(h,c,g),this.type="feColorMatrix";var f=toNumbers(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var d=f[0];f=[.213+.787*d,.715-.715*d,.072-.072*d,0,0,.213-.213*d,.715+.285*d,.072-.072*d,0,0,.213-.213*d,.715-.715*d,.072+.928*d,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var x=f[0]*Math.PI/180;f=[index_es_c(x,.213,.787,-.213),index_es_c(x,.715,-.715,-.715),index_es_c(x,.072,-.072,.928),0,0,index_es_c(x,.213,-.213,.143),index_es_c(x,.715,.285,.14),index_es_c(x,.072,-.072,-.283),0,0,index_es_c(x,.213,-.213,-.787),index_es_c(x,.715,-.715,.715),index_es_c(x,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=f,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(h,c,g,f,d){for(var{includeOpacity:x,matrix:b}=this,E=h.getImageData(0,0,f,d),S=0;S<d;S++)for(var P=0;P<f;P++){var w,T,C,A,M,N,R,_,V,k,L,D,B,j,U,z,G,X,Y,W,Q=E.data[S*f*4+4*P+0],$=E.data[S*f*4+4*P+1],q=E.data[S*f*4+4*P+2],Z=E.data[S*f*4+4*P+3],K=b[0]*Q+b[1]*$+b[2]*q+b[3]*Z+1*b[4],J=b[5]*Q+b[6]*$+b[7]*q+b[8]*Z+1*b[9],tt=b[10]*Q+b[11]*$+b[12]*q+b[13]*Z+1*b[14],te=b[15]*Q+b[16]*$+b[17]*q+b[18]*Z+1*b[19];x&&(K=0,J=0,tt=0,te*=Z/255),M=E.data,N=P,R=S,_=K,M[R*f*4+4*N+0]=_,V=E.data,k=P,L=S,D=J,V[L*f*4+4*k+1]=D,B=E.data,j=P,U=S,z=tt,B[U*f*4+4*j+2]=z,G=E.data,X=P,Y=S,W=te,G[Y*f*4+4*X+3]=W}h.clearRect(0,0,f,d),h.putImageData(E,0,0)}};let MaskElement=class MaskElement extends Element{constructor(){super(...arguments),this.type="mask"}apply(h,c){var{document:g}=this,f=this.getAttribute("x").getPixels("x"),d=this.getAttribute("y").getPixels("y"),x=this.getStyle("width").getPixels("x"),b=this.getStyle("height").getPixels("y");if(!x&&!b){var E=new BoundingBox;this.children.forEach(c=>{E.addBoundingBox(c.getBoundingBox(h))}),f=Math.floor(E.x1),d=Math.floor(E.y1),x=Math.floor(E.width),b=Math.floor(E.height)}var S=this.removeStyles(c,MaskElement.ignoreStyles),P=g.createCanvas(f+x,d+b),w=P.getContext("2d");g.screen.setDefaults(w),this.renderChildren(w),new FeColorMatrixElement(g,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(w,0,0,f+x,d+b);var T=g.createCanvas(f+x,d+b),C=T.getContext("2d");g.screen.setDefaults(C),c.render(C),C.globalCompositeOperation="destination-in",C.fillStyle=w.createPattern(P,"no-repeat"),C.fillRect(0,0,f+x,d+b),h.fillStyle=C.createPattern(T,"no-repeat"),h.fillRect(0,0,f+x,d+b),this.restoreStyles(c,S)}render(h){}};MaskElement.ignoreStyles=["mask","transform","clip-path"];var noop=()=>{};let ClipPathElement=class ClipPathElement extends Element{constructor(){super(...arguments),this.type="clipPath"}apply(h){var{document:c}=this,g=Reflect.getPrototypeOf(h),{beginPath:f,closePath:d}=h;g&&(g.beginPath=noop,g.closePath=noop),Reflect.apply(f,h,[]),this.children.forEach(f=>{if(void 0!==f.path){var x=void 0!==f.elementTransform?f.elementTransform():null;x||(x=Transform.fromElement(c,f)),x&&x.apply(h),f.path(h),g&&(g.closePath=d),x&&x.unapply(h)}}),Reflect.apply(d,h,[]),h.clip(),g&&(g.beginPath=f,g.closePath=d)}render(h){}};let FilterElement=class FilterElement extends Element{constructor(){super(...arguments),this.type="filter"}apply(h,c){var{document:g,children:f}=this,d=c.getBoundingBox(h);if(d){var x=0,b=0;f.forEach(h=>{var c=h.extraFilterDistance||0;x=Math.max(x,c),b=Math.max(b,c)});var E=Math.floor(d.width),S=Math.floor(d.height),P=E+2*x,w=S+2*b;if(!(P<1)&&!(w<1)){var T=Math.floor(d.x),C=Math.floor(d.y),A=this.removeStyles(c,FilterElement.ignoreStyles),M=g.createCanvas(P,w),N=M.getContext("2d");g.screen.setDefaults(N),N.translate(-T+x,-C+b),c.render(N),f.forEach(h=>{"function"==typeof h.apply&&h.apply(N,0,0,P,w)}),h.drawImage(M,0,0,P,w,T-x,C-b,P,w),this.restoreStyles(c,A)}}}render(h){}};FilterElement.ignoreStyles=["filter","transform","clip-path"];let FeDropShadowElement=class FeDropShadowElement extends Element{constructor(h,c,g){super(h,c,g),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(h,c,g,f,d){}};let FeMorphologyElement=class FeMorphologyElement extends Element{constructor(){super(...arguments),this.type="feMorphology"}apply(h,c,g,f,d){}};let FeCompositeElement=class FeCompositeElement extends Element{constructor(){super(...arguments),this.type="feComposite"}apply(h,c,g,f,d){}};let FeGaussianBlurElement=class FeGaussianBlurElement extends Element{constructor(h,c,g){super(h,c,g),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(h,c,g,f,d){var{document:x,blurRadius:b}=this,E=x.window?x.window.document.body:null,S=h.canvas;S.id=x.getUniqueId(),E&&(S.style.display="none",E.appendChild(S)),(0,N.canvasRGBA)(S,c,g,f,d,b),E&&E.removeChild(S)}};let TitleElement=class TitleElement extends Element{constructor(){super(...arguments),this.type="title"}};let DescElement=class DescElement extends Element{constructor(){super(...arguments),this.type="desc"}};function ownKeys$1(h,c){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);c&&(f=f.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),g.push.apply(g,f)}return g}function _objectSpread$1(h){for(var c=1;c<arguments.length;c++){var g=null!=arguments[c]?arguments[c]:{};c%2?ownKeys$1(Object(g),!0).forEach(function(c){d(h,c,g[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):ownKeys$1(Object(g)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(g,c))})}return h}function createCanvas(h,c){var g=document.createElement("canvas");return g.width=h,g.height=c,g}function createImage(h){return _createImage.apply(this,arguments)}function _createImage(){return(_createImage=f(function*(h){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=document.createElement("img");return c&&(g.crossOrigin="Anonymous"),new Promise((c,f)=>{g.onload=()=>{c(g)},g.onerror=(h,c,g,d,x)=>{f(x)},g.src=h})})).apply(this,arguments)}let Document=class Document{constructor(h){var{rootEmSize:c=12,emSize:g=12,createCanvas:f=Document.createCanvas,createImage:d=Document.createImage,anonymousCrossOrigin:x}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=h,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=h.screen,this.rootEmSize=c,this.emSize=g,this.createCanvas=f,this.createImage=this.bindCreateImage(d,x),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(h,c){return"boolean"==typeof c?(g,f)=>h(g,"boolean"==typeof f?f:c):h}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:h}=this;return h[h.length-1]}set emSize(h){var{emSizeStack:c}=this;c.push(h)}popEmSize(){var{emSizeStack:h}=this;h.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(h=>h.loaded)}isFontsLoaded(){return this.fonts.every(h=>h.loaded)}createDocumentElement(h){var c=this.createElement(h.documentElement);return c.root=!0,c.addStylesFromStyleDefinition(),this.documentElement=c,c}createElement(h){var c=h.nodeName.replace(/^[^:]+:/,""),g=Document.elementTypes[c];return void 0!==g?new g(this,h):new UnknownElement(this,h)}createTextNode(h){return new TextNode(this,h)}setViewBox(h){this.screen.setViewBox(_objectSpread$1({document:this},h))}};function ownKeys(h,c){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);c&&(f=f.filter(function(c){return Object.getOwnPropertyDescriptor(h,c).enumerable})),g.push.apply(g,f)}return g}function _objectSpread(h){for(var c=1;c<arguments.length;c++){var g=null!=arguments[c]?arguments[c]:{};c%2?ownKeys(Object(g),!0).forEach(function(c){d(h,c,g[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):ownKeys(Object(g)).forEach(function(c){Object.defineProperty(h,c,Object.getOwnPropertyDescriptor(g,c))})}return h}Document.createCanvas=createCanvas,Document.createImage=createImage,Document.elementTypes={svg:SVGElement,rect:RectElement,circle:CircleElement,ellipse:EllipseElement,line:LineElement,polyline:PolylineElement,polygon:PolygonElement,path:PathElement,pattern:PatternElement,marker:MarkerElement,defs:DefsElement,linearGradient:LinearGradientElement,radialGradient:RadialGradientElement,stop:StopElement,animate:AnimateElement,animateColor:AnimateColorElement,animateTransform:AnimateTransformElement,font:FontElement,"font-face":FontFaceElement,"missing-glyph":MissingGlyphElement,glyph:GlyphElement,text:TextElement,tspan:TSpanElement,tref:TRefElement,a:AElement,textPath:TextPathElement,image:ImageElement,g:GElement,symbol:SymbolElement,style:StyleElement,use:UseElement,mask:MaskElement,clipPath:ClipPathElement,filter:FilterElement,feDropShadow:FeDropShadowElement,feMorphology:FeMorphologyElement,feComposite:FeCompositeElement,feColorMatrix:FeColorMatrixElement,feGaussianBlur:FeGaussianBlurElement,title:TitleElement,desc:DescElement};let Canvg=class Canvg{constructor(h,c){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new Parser(g),this.screen=new Screen(h,g),this.options=g;var f=new Document(this,g),d=f.createDocumentElement(c);this.document=f,this.documentElement=d}static from(h,c){var g=arguments;return f(function*(){var f=g.length>2&&void 0!==g[2]?g[2]:{},d=new Parser(f);return new Canvg(h,(yield d.parse(c)),f)})()}static fromString(h,c){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Canvg(h,new Parser(g).parseFromString(c),g)}fork(h,c){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.from(h,c,_objectSpread(_objectSpread({},this.options),g))}forkString(h,c){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Canvg.fromString(h,c,_objectSpread(_objectSpread({},this.options),g))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var h=arguments,c=this;return f(function*(){var g=h.length>0&&void 0!==h[0]?h[0]:{};c.start(_objectSpread({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},g)),yield c.ready(),c.stop()})()}start(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:c,screen:g,options:f}=this;g.start(c,_objectSpread(_objectSpread({enableRedraw:!0},f),h))}stop(){this.screen.stop()}resize(h){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(h,c,g)}}}};